<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="javascript nodejs web developer...">
<meta property="og:type" content="website">
<meta property="og:title" content="WBlog">
<meta property="og:url" content="http://example.com/page/7/index.html">
<meta property="og:site_name" content="WBlog">
<meta property="og:description" content="javascript nodejs web developer...">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="wangzhiwei">
<meta property="article:tag" content="javascript nodejs web developer fe engineer">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/7/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>WBlog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">WBlog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">wangzhiwei blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/19/html%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/19/html%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/" class="post-title-link" itemprop="url">html问题汇总</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-19 08:52:59" itemprop="dateCreated datePublished" datetime="2024-12-19T08:52:59+08:00">2024-12-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">面试题</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="HTML-问题汇总"><a href="#HTML-问题汇总" class="headerlink" title="HTML 问题汇总"></a><em>HTML</em> 问题汇总</h1><h4 id="1-什么是-？是否需要在-HTML5-中使用？"><a href="#1-什么是-？是否需要在-HTML5-中使用？" class="headerlink" title="1. 什么是 &lt;!DOCTYPE&gt;？是否需要在 HTML5 中使用？"></a>1. 什么是 &lt;!DOCTYPE&gt;？是否需要在 <em>HTML5</em> 中使用？</h4><blockquote>
<p>参考答案：</p>
<p>它是 <em>HTML</em> 的文档声明，通过它告诉浏览器，使用哪一个 <em>HTML</em> 版本标准解析文档。</p>
<p>在浏览器发展的历史中，<em>HTML</em> 出现过很多个版本，不同版本在元素、属性等书写格式上略有差异，如果不预先告诉浏览器，浏览器就不知道我们的文档标准是什么，在这种情况下，大部分浏览器将开启最大兼容模式来解析网页，我们称之为怪异模式。这不仅会降低解析效率，而且会在解析过程中产生一些难以预知的 <em>bug</em>，所以文档声明是必须的。</p>
<p>而文档声明有多种书写格式，对应不同的 <em>HTML</em> 版本，&lt;!DOCTYPE&gt; 这种书写是告诉浏览器，整个文档使用 <em>HTML5</em> 的标准进行解析。</p>
</blockquote>
<h4 id="2-什么是可替换元素，什么是非可替换元素，它们各自有什么特点？"><a href="#2-什么是可替换元素，什么是非可替换元素，它们各自有什么特点？" class="headerlink" title="2. 什么是可替换元素，什么是非可替换元素，它们各自有什么特点？"></a>2. 什么是可替换元素，什么是非可替换元素，它们各自有什么特点？</h4><blockquote>
<p>参考答案：</p>
<p>可替换元素是指这样一种元素，它在页面中的大部分展现效果不由 <em>CSS</em> 决定。</p>
<p>比如 <em>img</em> 元素就是一个可替换元素，它在页面中显示出的效果主要取决于你连接的是什么图片，图片是什么它就展示什么，<em>CSS</em> 虽然可以控制图片的尺寸位置，但永远无法控制图片本身。</p>
<p>再比如，<em>select</em> 元素也是一个典型的可替换元素，它在页面上呈现的是用户操作系统上的下拉列表样式，因此，它的展现效果是由操作系统决定的。所以，同一个 <em>select</em> 元素，放到不同操作系统的电脑上会呈现不同的外观。</p>
<p><em>img、video、audio</em>、大部分表单元素都属于可替换元素。</p>
<p>非可替换元素就是指的普通元素，它具体在页面上呈现什么，完全由 <em>CSS</em> 来决定。</p>
</blockquote>
<h4 id="3-src-和-href-的区别（京东）"><a href="#3-src-和-href-的区别（京东）" class="headerlink" title="3. src 和 href 的区别（京东）"></a>3. <em>src</em> 和 <em>href</em> 的区别（京东）</h4><blockquote>
<p>参考答案：</p>
<p>它们都是 <em>HTML</em> 中特定元素的属性。</p>
<p><em>src</em> 是 <em>source</em> 的缩写，它通常用于 <em>img、video、audio、script</em> 元素，通过 <em>src</em> 属性，可以指定外部资源的来源地址。</p>
<p><em>href</em> 是 <em>hyper reference</em> 的缩写，意味「超引用」，它通常用于 <em>a、link</em> 元素，通过 <em>href</em> 属性，可以标识文档中引用的其他超文本。</p>
</blockquote>
<h4 id="4-说说常用的-meta-标签"><a href="#4-说说常用的-meta-标签" class="headerlink" title="4. 说说常用的 meta 标签"></a>4. 说说常用的 <em>meta</em> 标签</h4><blockquote>
<p>参考答案：</p>
<p><em>meta</em> 标签提供关于HTML文档的元数据。元数据不会显示在页面上，但是对于机器是可读的。它可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 <em>web</em> 服务。</p>
<p>常用的 <em>meta</em> 标签的属性有：</p>
<ol>
<li><em>content</em> ，设置或返回 <em>meta</em> 元素的 <em>content</em> 属性的值 。</li>
<li><em>http-equiv</em>，把 <em>content</em> 属性连接到一个 <em>HTTP</em> 头部。</li>
<li><em>name</em>，把 <em>content</em> 属性连接到某个名称。</li>
</ol>
<p>关于 <em>meta</em> 标签，回答出常用的一些属性值即可，不用全部背下来。</p>
<p>具体的关于 <em>meta</em> 标签能够设置的属性，可以参阅：<em><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/meta.html">https://www.runoob.com/w3cnote/meta.html</a></em></p>
</blockquote>
<h4 id="5-说说对-html-语义化的理解"><a href="#5-说说对-html-语义化的理解" class="headerlink" title="5. 说说对 html 语义化的理解"></a>5. 说说对 <em>html</em> 语义化的理解</h4><blockquote>
<p>参考答案：</p>
<ol>
<li>去掉或者丢失样式的时候能够让页面呈现出清晰的结构</li>
<li>有利于 <em>SEO</em>：和搜索引擎建立良好沟通，有助于爬虫抓取更多的有效信息：爬虫依赖于标签来确定上下文和各个关键字的权重；</li>
<li>方便其他设备解析（如屏幕阅读器、盲人阅读器、移动设备）以意义的方式来渲染网页；</li>
<li>便于团队开发和维护，语义化更具可读性，是下一步吧网页的重要动向，遵循 <em>W3C</em> 标准的团队都遵循这个标准，可以减少差异化。 <em>HTML5</em> 中新增加的很多标签（如：&lt;article&gt;、&lt;nav&gt;、&lt;header&gt; 和 &lt;footer&gt; 等） 就是基于语义化设计原则）下面就是语义化 <em>html</em> 代码；</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">h2</span>&gt;</span>专注Web前端技术<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>总结一下，总之就是：</p>
<ul>
<li>用正确的标签做正确的事情！</li>
<li><em>html</em> 语义化就是让页面的内容结构化，便于对浏览器、搜索引擎解析；</li>
<li>在没有样式 <em>CCS</em> 情况下也以一种文档格式显示，并且是容易阅读的。</li>
<li>搜索引擎的爬虫依赖于标记来确定上下文和各个关键字的权重，利于 <em>SEO</em>。</li>
<li>使阅读源代码的人对网站更容易将网站分块，便于阅读维护理解。</li>
</ul>
</blockquote>
<h4 id="6-label-的作用是什么？是怎么用的？"><a href="#6-label-的作用是什么？是怎么用的？" class="headerlink" title="6. label 的作用是什么？是怎么用的？"></a>6. <em>label</em> 的作用是什么？是怎么用的？</h4><blockquote>
<p>参考答案：</p>
<p><em>label</em> 元素不会向用户呈现任何特殊效果。</p>
<p>不过，它为鼠标用户改进了可用性。</p>
<p>如果您在 <em>label</em> 元素内点击文本，就会触发此控件。</p>
<p>就是说，当用户选择该标签时，浏览器就会自动将焦点转到和标签相关的表单控件上。</p>
</blockquote>
<blockquote>
<p>解析：</p>
<p>最常用 <em>label</em> 标签的地方，应该就是表单中选择性别的单选框了。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span> 标签的 for 属性应当与相关元素的 id 属性相同。</span></span><br><span class="line"><span class="language-xml">&gt;<span class="tag">&lt;<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">&gt;<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>上面的代码中，当 <em>label</em> 和表单控件绑定后，用户不用必须点击单选框才能确定自己的选项，点击 <em>label</em> 所包裹的文字也能够自动聚焦绑定的表单控件。</p>
</blockquote>
<h4 id="7-iframe-框架有那些优缺点？"><a href="#7-iframe-框架有那些优缺点？" class="headerlink" title="7. iframe 框架有那些优缺点？"></a>7. <em>iframe</em> 框架有那些优缺点？</h4><blockquote>
<p>参考答案：</p>
<ul>
<li><em>iframe</em> 会阻塞主页面的 <em>Onload</em> 事件；</li>
<li><em>iframe</em> 和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载。</li>
<li>使用 <em>iframe</em> 之前需要考虑这两个缺点。如果需要使用 <em>iframe</em>，最好是通过 <em>javascript</em> 动态给 <em>iframe</em> 添加 <em>src</em> 属性值，这样可以可以绕开以上两个问题。</li>
</ul>
</blockquote>
<h4 id="8-HTML-与-XHTML-二者有什么区别，你觉得应该使用哪一个并说出理由。"><a href="#8-HTML-与-XHTML-二者有什么区别，你觉得应该使用哪一个并说出理由。" class="headerlink" title="8. HTML 与 XHTML 二者有什么区别，你觉得应该使用哪一个并说出理由。"></a>8. <em>HTML</em> 与 <em>XHTML</em> 二者有什么区别，你觉得应该使用哪一个并说出理由。</h4><blockquote>
<p>参考答案：</p>
<p><em>HTML</em> 与 <em>XHTML</em> 之间的差别，主要分为功能上的差别和书写习惯的差别两方面。</p>
<p>关于功能上的差别，主要是 <em>XHTML</em> 可兼容各大浏览器、手机以及 <em>PDA</em>，并且浏览器也能快速正确地编译网页。 </p>
<p>由于 <em>XHTML</em> 的语法较为严谨，所以如果你是习惯松散结构的 <em>HTML</em> 编写者，那需要注意 <em>XHTML</em> 的规则。</p>
<p>下面列出了几条容易犯的错误，供理解。 </p>
<ol>
<li><strong>所有标签都必须小写</strong></li>
</ol>
<p>  在 <em>XHTML</em> 中，所有的标签都必须小写，不能大小写穿插其中，也不能全部都是大写。</p>
<ol start="2">
<li><strong>标签必须成双成对</strong></li>
</ol>
<p>  像是 &lt;p&gt;…&lt;&#x2F;p&gt;、&lt;a&gt;…&lt;&#x2F;a&gt;、&lt;div&gt;…&lt;&#x2F;div&gt;标签等，当出现一个标签时，必须要有对应的结束标签，缺一不可，就像在任何程序语言中的括号一样</p>
<ol start="3">
<li><strong>标签顺序必须正确</strong></li>
</ol>
<p>  标签由外到内，一层层包覆着，所以假设你先写 <em>div</em> 后写 <em>h1</em>，结尾就要先写 <em>h1</em> 后写 <em>div</em>。只要记住一个原则“先进后出”，先弹出的标签要后结尾。</p>
<ol start="4">
<li><strong>所有属性都必须使用双引号</strong></li>
</ol>
<p>  在 <em>XHTML 1.0</em> 中规定连单引号也不能使用，所以全程都得用双引号。</p>
<ol start="5">
<li>不允许使用 <em>target&#x3D;”_blank”</em></li>
</ol>
<p>  从 <em>XHTML 1.1</em> 开始全面禁止 <em>target</em> 属性，如果想要有开新窗口的功能，就必须改写为 *rel&#x3D;”external”*，并搭配 <em>JavaScript</em> 实现此效果。</p>
</blockquote>
<h4 id="9-HTML5-的-form-如何关闭自动完成功能？"><a href="#9-HTML5-的-form-如何关闭自动完成功能？" class="headerlink" title="9. HTML5 的 form 如何关闭自动完成功能？"></a>9. <em>HTML5</em> 的 <em>form</em> 如何关闭自动完成功能？</h4><blockquote>
<p>参考答案：</p>
<p><em>HTML</em> 的输入框可以拥有自动完成的功能，当你往输入框输入内容的时候，浏览器会从你以前的同名输入框的历史记录中查找出类似的内容并列在输入框下面，这样就不用全部输入进去了，直接选择列表中的项目就可以了。</p>
<p>使用 *autocomplete&#x3D;”off”*（给不想要提示的 <em>form</em> 或某个 <em>input</em> 设置为 <em>autocomplete&#x3D;off</em>。）</p>
<p>很多时候，需要对客户的资料进行保密，防止浏览器软件或者恶意插件获取到；</p>
<p>可以在 <em>input</em> 中加入 <em>autocomplete&#x3D;“off”</em> 来关闭记录系统需要保密的情况下可以使用此参数</p>
<p>提示：<em>autocomplete</em> 属性有可能在 <em>form</em> 元素中是开启的，而在 <em>input</em> 元素中是关闭的。</p>
<p>注意：<em>autocomplete</em> 适用于 &lt;form&gt; 标签，以及以下类型的 &lt;input&gt; 标签：<em>text, search, url, telephone, email, password, datepickers, range</em> 以及 <em>color</em>。</p>
</blockquote>
<h4 id="10-title-与-h1-的区别、b-与-strong-的区别、i-与-em-的区别？"><a href="#10-title-与-h1-的区别、b-与-strong-的区别、i-与-em-的区别？" class="headerlink" title="10. title 与 h1 的区别、b 与 strong 的区别、i 与 em 的区别？"></a>10. <em>title</em> 与 <em>h1</em> 的区别、<em>b</em> 与 <em>strong</em> 的区别、<em>i</em> 与 <em>em</em> 的区别？</h4><blockquote>
<p>参考答案：</p>
<p><em>title</em> 与 <em>h1</em>：<em>h1</em> 标签写在网页的 <em>body</em> 中，<em>title</em> 标签写在网页的 <em>head</em> 中，<em>h1</em> 标签控制一段文字的大小（从 <em>h1~h6</em>），<em>title</em> 是网页标题的意思，如 &lt;title&gt;这是网页标题&lt;&#x2F;title&gt;。</p>
<p><em>b</em> 与 <em>strong</em> 的区别：<em>b</em> 是以前的加粗元素，而新出来的 <em>strong</em> 元素虽然在表现上看上去也是加粗，但是却拥有语义，表示强调某段文字的信息。</p>
<p><em>i</em> 与 <em>em</em> 的区别：</p>
<p>同样，<em>i</em> 是 <em>italic</em>（斜体）的简写，是早期的斜体元素，而 <em>em</em> 是 <em>emphasize</em>（强调）的简写，是一个表示强调的元素。后者相比前者拥有语义。</p>
<p>经典的总结：</p>
<ul>
<li><em>title</em> 属性表示网页的标题，<em>h1</em> 元素则表示层次明确的页面内容标题，对页面信息的抓取也有很大的影响</li>
<li><em>strong</em> 是标明重点内容，有语气加强的含义，使用阅读设备阅读网络时：&lt;strong&gt;会重读，而 &lt;b&gt;是展示强调内容</li>
<li><em>i</em> 内容展示为斜体，<em>em</em> 表示强调的文本</li>
</ul>
<p>除了上面所列举的那几组外，相似的还有如下的元素：</p>
<p>自然样式标签：<em>b、i、u、s、pre</em></p>
<p>语义样式标签：<em>strong、em、ins、del、code</em></p>
<p>应该准确使用语义样式标签，但不能滥用，如果不能确定时首选使用自然样式标签。</p>
</blockquote>
<h4 id="11-请描述下-SEO-中的-TDK？"><a href="#11-请描述下-SEO-中的-TDK？" class="headerlink" title="11. 请描述下 SEO 中的 TDK？"></a>11. 请描述下 <em>SEO</em> 中的 <em>TDK</em>？</h4><blockquote>
<p>参考答案：</p>
<p>在 <em>SEO</em> 中，所谓的 <em>TDK</em> 其实就是 <em>title、description、keywords</em> 这三个标签，<em>title</em> 标题标签，<em>description</em> 描述标签，<em>keywords</em> 关键词标签。</p>
</blockquote>
<h4 id="12-每个-HTML-文件头里都有个很重要的东西，Doctype，知道这是干什么的么？"><a href="#12-每个-HTML-文件头里都有个很重要的东西，Doctype，知道这是干什么的么？" class="headerlink" title="12. 每个 HTML 文件头里都有个很重要的东西，Doctype，知道这是干什么的么？"></a>12. 每个 <em>HTML</em> 文件头里都有个很重要的东西，<em>Doctype</em>，知道这是干什么的么？</h4><blockquote>
<p>参考答案：</p>
<p>&lt;!DOCTYPE&gt; 声明位于文档中的最前面的位置，处于 &lt;html&gt; 标签之前，主要作用是告诉浏览器按照何种规范解析网页。</p>
</blockquote>
<blockquote>
<p>解析：</p>
<p><em>doctype</em> 声明是一种标准通用标记语言的文档类型声明，目的是告诉标准通用标记语言解析器要使用什么样的文档类型定义（<em>DTD</em>）来解析文档。</p>
<p>声明是用来指示 <em>web</em> 浏览器关于页面使用哪个 <em>HTML</em> 版本进行编写的指令。 声明必须是 <em>HTML</em> 文档的第一行，位于 &lt;html&gt; 标签之前。</p>
<p>浏览器本身分为两种模式，一种是标准模式，一种是怪异模式，浏览器通过 <em>doctype</em> 来区分这两种模式，<em>doctype</em> 在 <em>html</em> 中的作用就是触发浏览器的标准模式，如果 <em>html</em> 中省略了 <em>doctype</em>，浏览器就会进入到 <em>Quirks</em> 模式（怪异模式）。</p>
<p>在这种模式下，有些样式会和标准模式存在差异，而 <em>html</em> 标准和 <em>dom</em> 标准值规定了标准模式下的行为，没有对怪异模式做出规定，因此不同浏览器在怪异模式下的处理也是不同的，所以一定要在 <em>html</em> 开头使用 <em>doctype</em>。</p>
</blockquote>
<h4 id="13-什么是严格模式与混杂模式？"><a href="#13-什么是严格模式与混杂模式？" class="headerlink" title="13. 什么是严格模式与混杂模式？"></a>13. 什么是严格模式与混杂模式？</h4><blockquote>
<p>参考答案：</p>
<ul>
<li><p>严格模式：以浏览器支持的最高标准运行</p>
</li>
<li><p>混杂模式：页面以宽松向下兼容的方式显示，模拟老式浏览器的行为</p>
</li>
</ul>
</blockquote>
<h4 id="14-对于-WEB-标准以及-W3C-的理解与认识问题"><a href="#14-对于-WEB-标准以及-W3C-的理解与认识问题" class="headerlink" title="14. 对于 WEB 标准以及 W3C 的理解与认识问题"></a>14. 对于 <em>WEB</em> 标准以及 <em>W3C</em> 的理解与认识问题</h4><blockquote>
<p>参考答案：</p>
<p><strong><em>Web</em> 标准</strong>简单来说可以分为<strong>结构、表现和行为</strong>。其中结构主要是有 <em>HTML</em> 标签组成。或许通俗点说，在页面 <em>body</em> 里面我们写入的标签都是为了页面的结构。表现即指 <em>css</em> 样式表，通过 <em>css</em> 可以是页面的结构标签更具美感。行为是指页面和用户具有一定的交互，同时页面结构或者表现发生变化，主要是有 <em>js</em> 组成。</p>
<p><em>W3C</em> 是一个定制各种标准的非盈利性组织，标准包括了 <em>HTML、CSS、XHTML</em> 等，<em>web</em> 标准制定后，有以下几个优点：</p>
<ol>
<li>学习成本降低，只学习标准即可，否则将学习各个浏览器厂商的标准。</li>
<li>统一开发流程，用标准化工具开发（例如 <em>VSCode、WebStorm、Sublime</em> 等）再用标准化的浏览器测试，便于多人协作。</li>
<li>简化网站代码的维护。</li>
<li>跨平台，可方便迁移到不同设备中</li>
</ol>
</blockquote>
<h4 id="15-列举-IE-与其他浏览器不一样的特性？"><a href="#15-列举-IE-与其他浏览器不一样的特性？" class="headerlink" title="15. 列举 IE 与其他浏览器不一样的特性？"></a>15. 列举 <em>IE</em> 与其他浏览器不一样的特性？</h4><blockquote>
<p>参考答案：</p>
<ul>
<li><p><em>IE</em> 的排版引擎是 <em>Trident</em> （又称为 <em>MSHTML</em>）</p>
</li>
<li><p><em>Trident</em> 内核曾经几乎与 <em>W3C</em> 标准脱节</p>
</li>
<li><p><em>Trident</em> 内核的大量 <em>Bug</em> 等安全性问题没有得到及时解决</p>
</li>
<li><p><em>JS</em> 方面，有很多独立的方法，例如绑定事件的 <em>attachEvent</em>、创建事件的 <em>createEventObject</em> 等</p>
</li>
<li><p><em>CSS</em> 方面，也有自己独有的处理方式，例如设置透明，低版本 <em>IE</em> 中使用滤镜的方式，盒模型也和 <em>W3C</em> 规定的盒模型不同</p>
</li>
</ul>
</blockquote>
<h4 id="16-前端页面有哪三层构成，分别是什么？作用是什么？"><a href="#16-前端页面有哪三层构成，分别是什么？作用是什么？" class="headerlink" title="16. 前端页面有哪三层构成，分别是什么？作用是什么？"></a>16. 前端页面有哪三层构成，分别是什么？作用是什么？</h4><blockquote>
<p>参考答案：</p>
<p>分成：结构层、表示层、行为层。</p>
<ol>
<li>结构层（<em>structural layer</em>）</li>
</ol>
<p>由 <em>HTML</em> 或 <em>XHTML</em> 之类的标记语言负责创建。标签，也就是那些出现在尖括号里的单词，对网页内容的语义含义做出了描述，但这些标签不包含任何关于如何显示有关内容的信息。例如，<em>p</em> 标签表达了这样一种语义：“这是一个文本段。”</p>
<ol start="2">
<li>表示层（<em>presentation layer</em>）</li>
</ol>
<p>由 <em>CSS</em> 负责创建。 <em>CSS</em> 对“如何显示有关内容”的问题做出了回答。</p>
<ol start="3">
<li>行为层（<em>behaviorlayer</em>）</li>
</ol>
<p>负责回答“内容应该如何对事件做出反应”这一问题。这是 <em>Javascript</em> 语言和 <em>DOM</em> 主宰的领域。</p>
</blockquote>
<h4 id="17-页面可见性（Page-Visibility）API-可以有哪些用途？"><a href="#17-页面可见性（Page-Visibility）API-可以有哪些用途？" class="headerlink" title="17. 页面可见性（Page Visibility）API 可以有哪些用途？"></a>17. 页面可见性（<em>Page Visibility</em>）<em>API</em> 可以有哪些用途？</h4><blockquote>
<p>参考答案：</p>
<p>所谓页面可见性，就是获取当前页面的可见状态。因为对于用户来讲可以打开好多标签页面来回切换，然而始终只有一个页面处于显示状态。所以我们可以通过页面可见性（<em>Page Visibility</em>）<em>API</em> 来判断当前页面是显示状态还是隐藏状态。</p>
<p>常用的 <em>API</em> 有三个，<em>document.hidden</em> 返回一个布尔值，如果是 <em>true</em>，表示页面可见，<em>false</em> 则表示页面隐藏。不同页面之间来回切换，会触发 <em>visibilitychange</em> 事件，还有一个 <em>document.visibilityState</em>，表示页面所处的状态。</p>
</blockquote>
<h4 id="18-Quirks（怪癖）模式是什么？它和-Standards（标准）模式有什么区别"><a href="#18-Quirks（怪癖）模式是什么？它和-Standards（标准）模式有什么区别" class="headerlink" title="18. Quirks（怪癖）模式是什么？它和 Standards（标准）模式有什么区别"></a>18. <em>Quirks</em>（怪癖）模式是什么？它和 <em>Standards</em>（标准）模式有什么区别</h4><blockquote>
<p>参考答案：</p>
<p>以 <em>IE6</em> 为例，如果写了 <em>DTD</em>，就意味着这个页面将采用对 <em>CSS</em> 支持更好的布局，而如果没有，则采用兼容之前的布局方式。这就是 <em>Quirks</em> 模式（怪癖模式，诡异模式，怪异模式）。</p>
<p>区别：总体会有布局、样式解析和脚本执行三个方面的区别，这里列举一些比较常见的区别：</p>
<ul>
<li><p>盒模型：在 <em>W3C</em> 标准中，如果设置一个元素的宽度和高度，指的是元素内容的宽度和高度，而在 <em>Quirks</em> 模式下，<em>IE</em> 的宽度和高度还包含了 <em>padding</em> 和 <em>border</em>。</p>
</li>
<li><p>设置行内元素的高宽：在 <em>Standards</em> 模式下，给 &lt;span&gt; 等行内元素设置 <em>wdith</em> 和 <em>height</em> 都不会生效，而在 <em>Quirks</em> 模式下，则会生效。</p>
</li>
<li><p>设置百分比的高度：在 <em>Standards</em> 模式下，一个元素的高度是由其包含的内容来决定的，如果父元素没有设置百分比的高度，子元素设置一个百分比的高度是无效的</p>
</li>
<li><p>用 <em>margin:0 auto</em> 设置水平居中：使用 <em>margin:0 auto</em> 在 <em>Standards</em> 模式下可以使元素水平居中，但在 <em>Quirks</em> 模式下却会失效。</p>
</li>
</ul>
</blockquote>
<h4 id="19-div-css-的布局较-table-布局有什么优点？"><a href="#19-div-css-的布局较-table-布局有什么优点？" class="headerlink" title="19. div+css 的布局较 table 布局有什么优点？"></a>19. <em>div+css</em> 的布局较 <em>table</em> 布局有什么优点？</h4><blockquote>
<p>参考答案：</p>
<ul>
<li><p>样式的调整更加方便，内容和样式的分离，使页面和样式的调整变得更加方便。</p>
</li>
<li><p>页面加载速度更快、结构化清晰、页面显示简洁。</p>
</li>
<li><p>表现与结构相分离。</p>
</li>
<li><p>易于优化（<em>SEO</em>）搜索引擎更友好，排名更容易靠前。</p>
</li>
<li><p>符合 <em>W3C</em> 标准。</p>
</li>
</ul>
</blockquote>
<h4 id="20-请谈一下你对网页标准和标准制定机构重要性的理解。"><a href="#20-请谈一下你对网页标准和标准制定机构重要性的理解。" class="headerlink" title="20. 请谈一下你对网页标准和标准制定机构重要性的理解。"></a>20. 请谈一下你对网页标准和标准制定机构重要性的理解。</h4><blockquote>
<p>参考答案：</p>
<p>任何东西都需要一个标准，有了标准才能够更好的进行交流和推广。不同的标准，得出的便是不同的结果。因此，制定什么样的标准，如何确立标准，至关重要。</p>
<p>正因为有了网页的标准，才能降低开发难度及开发成本，减少各种 <em>BUG</em>、安全问题， 提高网站易用性。</p>
</blockquote>
<h4 id="21-知道什么是微格式吗？谈谈理解。在前端构建中应该考虑微格式吗？"><a href="#21-知道什么是微格式吗？谈谈理解。在前端构建中应该考虑微格式吗？" class="headerlink" title="21. 知道什么是微格式吗？谈谈理解。在前端构建中应该考虑微格式吗？"></a>21. 知道什么是微格式吗？谈谈理解。在前端构建中应该考虑微格式吗？</h4><blockquote>
<p>参考答案：</p>
<p>参考答案：</p>
<p>所谓微格式，是建立在已有的、被广泛采用的标准基础之上的一组简单的、开放的数据格式。</p>
<p>具体表现是把语义嵌入到 <em>HTML</em> 中，以便有助于分离式开发，并通过制定一些简单的约定，来兼顾 <em>HTML</em> 文档的人机可读性，相当于对 <em>Web</em> 网页进行了语义注解。</p>
<p>采用微格式的 <em>Web</em> 页面，在 <em>HTML</em> 文档中给一些标签增加一些属性，这些属性对信息的语义结构进行注解，有助于处理 <em>HTML</em> 文档的软件，更好的理解该 <em>HTML</em> 文档。</p>
<p><strong>在前端构建中微格式的意义</strong></p>
<p>微格式按照某种已有的被广泛应用的标准，通过对内容块的语义标记，可以让外部应用程序、聚合程序和搜索引擎能够做以下事情：</p>
<ol>
<li>在爬取 <em>Web</em> 内容时，能够更为准确地识别内容块的语义；</li>
<li>对内容进行操作，包括提供访问、校对，还可以将其转化成其他的相关格式，提供给外部程序和Web服务使用。</li>
</ol>
<p>总结： 微格式可以对网站进行 <em>SEO</em> 优化，如果需要可以考虑。</p>
</blockquote>
<h4 id="22-html-常见兼容性问题？"><a href="#22-html-常见兼容性问题？" class="headerlink" title="22. html 常见兼容性问题？"></a>22. <em>html</em> 常见兼容性问题？</h4><blockquote>
<p>参考答案：</p>
<ol>
<li><em>PNG24</em> 位的图片在 <em>IE6</em> 浏览器上出现背景</li>
</ol>
<p>解决方案：做成 <em>PNG8</em>，也可以引用一段脚本处理。</p>
<ol start="2">
<li>浏览器默认的 <em>margin</em> 和 <em>padding</em> 不同</li>
</ol>
<p>解决方案：使用 <em>CSS</em> 重置文件。</p>
<ol start="3">
<li><em>IE6</em> 双边距 <em>bug</em></li>
</ol>
<p>在 <em>IE6</em> 下，如果对元素设置了浮动，同时又设置了 <em>margin-left</em> 或 <em>margin-right</em>，<em>margin</em> 值会加倍。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="selector-id">#box</span>&#123; </span><br><span class="line"> <span class="attribute">float</span><span class="selector-pseudo">:left</span>; </span><br><span class="line"> <span class="attribute">width</span>:<span class="number">10px</span>; </span><br><span class="line"> <span class="attribute">margin</span>:<span class="number">10px</span>;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>

<p>这种情况之下 <em>IE</em> 会产生 <em>20px</em> 的距离</p>
<p>解决方案：在 <em>float</em> 的标签样式控制中加入 </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;_display:inline;</span><br></pre></td></tr></table></figure>

<p>将其转化为行内属性。( _ 这个符号只有 <em>IE6</em> 会识别）</p>
<ol start="4">
<li>渐进识别的方式，从总体中逐渐排除局部。</li>
</ol>
<p>首先，巧妙的使用 “\9” 这一标记，将 <em>IE</em> 游览器从所有情况中分离出来。</p>
<p>接着，再次使用 “+” 将 <em>IE8</em> 和 <em>IE7、IE6</em> 分离开来，这样 <em>IE8</em> 已经独立识别。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="selector-class">.bb</span>&#123;    </span><br><span class="line"> <span class="attribute">background-color</span>:<span class="number">#f1ee18</span>; <span class="comment">/*所有识别*/</span>    </span><br><span class="line"><span class="selector-class">.background-color</span>:<span class="number">#00deff</span>\<span class="number">9</span>; <span class="comment">/*IE6、7、8 识别*/</span>    </span><br><span class="line">+<span class="attribute">background-color</span>:<span class="number">#a200ff</span>; <span class="comment">/*IE6、7 识别*/</span>    </span><br><span class="line">_background-<span class="attribute">color</span>:<span class="number">#1e0bd1</span>; <span class="comment">/*IE6 识别*/</span></span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><em>IE</em> 下，获取自定义属性用获取常规</li>
</ol>
<p><em>IE</em> 下，可以使属性的方法来获取自定义属性用获取常规，也可以使用 <em>getAttribute( )</em> 方法获取自定义属性，<em>Firefox</em> 下，只能使用 <em>getAttribute( )</em> 方法获取自定义属性</p>
<p>解决方法：统一通过 <em>getAttribute( )</em> 方法获取自定义属性</p>
<ol start="6">
<li><em>event</em> 对象的区别</li>
</ol>
<p><em>IE</em> 下，<em>event</em> 对象有 <em>x、y</em> 属性，但是没有 <em>pageX、pageY</em> 属性，<em>Firefox</em> 下，<em>event</em> 对象有 <em>pageX、pageY</em> 属性，但是没有 <em>x、y</em> 属性。</p>
<p>解决方法：（条件注释）缺点是在 <em>IE</em> 浏览器下可能会增加额外的 <em>HTTP</em> 请求数。</p>
<ol start="7">
<li><em>Chrome 12px</em> 像素</li>
</ol>
<p><em>Chrome</em> 中文界面下默认会将小于 <em>12px</em> 的文本强制按照 <em>12px</em> 显示</p>
<p>解决方法：可通过加入 <em>CSS</em> 属性 <em>-webkit-text-size-adjust: none;</em> 解决。</p>
<ol start="8">
<li><em>hover</em> 和 <em>active</em> 失效</li>
</ol>
<p>超链接访问过后 <em>hover</em> 样式就不出现了，被点击访问过的超链接样式不在具有 <em>hover</em> 和 <em>active</em> 了</p>
<p>解决方法：改变 <em>CSS</em> 属性的排列顺序 <em>L-V-H-A</em></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;&#125;</span><br><span class="line">&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;&#125;</span><br><span class="line">&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;&#125;</span><br><span class="line">&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<ol start="9">
<li>怪异模式问题</li>
</ol>
<p>漏写 <em>DTD</em> 声明，<em>Firefox</em> 仍然会按照标准模式来解析网页，但在 <em>IE</em> 中会触发怪异模式。</p>
<p>为避免怪异模式给我们带来不必要的麻烦，最好养成书写 <em>DTD</em> 声明的好习惯。</p>
<p>现在可以使用 <em>HTML5</em>, 推荐的写法：&lt;!DOCTYPE html&gt;</p>
<ol start="10">
<li>上下 <em>margin</em> 重合问题</li>
</ol>
<p><em>IE</em> 和 <em>FireFox</em> 都存在，相邻的两个 <em>div</em> 的 <em>margin-left</em> 和 <em>margin-right</em> 不会重合，</p>
<p>但是 <em>margin-top</em> 和 <em>margin-bottom</em> 却会发生重合。</p>
<p>解决方法：养成良好的代码编写习惯，同时采用 <em>margin-top</em> 或者同时采用 <em>margin-bottom</em>。</p>
<ol start="11">
<li><em>IE6</em> 对 <em>png</em> 图片格式支持不好</li>
</ol>
<p>解决方案：引用一段脚本处理</p>
</blockquote>
<h4 id="23-HTML5-有哪些新特性、移除了那些元素？"><a href="#23-HTML5-有哪些新特性、移除了那些元素？" class="headerlink" title="23. HTML5 有哪些新特性、移除了那些元素？"></a>23. <em>HTML5</em> 有哪些新特性、移除了那些元素？</h4><blockquote>
<p>参考答案：</p>
<ul>
<li><em>HTML5</em> 现在已经不是 <em>SGML</em> 的⼦集，主要是关于图像，位置，存储，多任务等功能的增加</li>
<li>绘画 <em>canvas</em></li>
<li>⽤于媒介回放的 <em>video</em> 和 <em>audio</em> 元素</li>
<li>本地离线存储 <em>localStorage</em> ⻓期存储数据，浏览器关闭后数据不丢失</li>
<li><em>sessionStorage</em> 的数据在浏览器关闭后⾃动删除</li>
<li>语意化更好的内容元素，⽐如 <em>article 、 footer 、 header 、 nav 、 section</em></li>
<li>表单控件， <em>calendar 、 date 、 time 、 email 、 url 、 search</em></li>
<li>新的技术 <em>webworker 、 websocket 、 Geolocation</em></li>
</ul>
<p>移除的元素：</p>
<ul>
<li>纯表现的元素： <em>basefont 、 big 、 center 、 font 、 s 、 strike 、 tt 、 u</em></li>
<li>对可⽤性产⽣负⾯影响的元素： <em>frame 、 frameset 、 noframes</em></li>
</ul>
<p>⽀持 <em>HTML5</em> 新标签：</p>
<ul>
<li><em>IE8&#x2F;IE7&#x2F;IE6</em> ⽀持通过 <em>document.createElement</em> ⽅法产⽣的标签</li>
<li>可以利⽤这⼀特性让这些浏览器⽀持 <em>HTML5</em> 新标签</li>
<li>浏览器⽀持新标签后，还需要添加标签默认的样式</li>
<li>当然也可以直接使⽤成熟的框架、⽐如 <em>html5shim</em></li>
</ul>
</blockquote>
<h4 id="24-HTML-全局属性-global-attribute-有哪些"><a href="#24-HTML-全局属性-global-attribute-有哪些" class="headerlink" title="24. HTML 全局属性(global attribute)有哪些"></a>24. <em>HTML</em> 全局属性(<em>global attribute</em>)有哪些</h4><blockquote>
<p>参考答案：</p>
<p>所谓全局属性，就是指每个 <em>HTML</em> 元素都拥有的属性，大致有如下的属性：</p>
<ul>
<li><em>class</em> :为元素设置类标识</li>
<li>data-* : 为元素增加⾃定义属性</li>
<li><em>draggable</em> : 设置元素是否可拖拽</li>
<li><em>id</em> : 元素 <em>id</em> ，⽂档内唯⼀</li>
<li><em>lang</em> : 元素内容的的语⾔</li>
<li><em>style</em> : ⾏内 <em>css</em> 样式</li>
<li><em>title</em> : 元素相关的建议信息</li>
</ul>
</blockquote>
<h4 id="25-HTML5-为什么只需要写-？"><a href="#25-HTML5-为什么只需要写-？" class="headerlink" title="25. HTML5 为什么只需要写 &lt;!DOCTYPE HTML&gt;？"></a>25. <em>HTML5</em> 为什么只需要写 &lt;!DOCTYPE HTML&gt;？</h4><blockquote>
<p>参考答案：</p>
<p>为什么 <em>HTML5</em> 的顶部只需要一段</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>HTML4</em> 却需要很长的一段</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="meta">&lt;!DOCTYPE <span class="keyword">HTML</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其主要原因，是因为 <em>HTML5</em> 不基于 <em>SGML</em>，所以不需要引用 <em>DTD</em>。</p>
<p>在 <em>HTML 4.01</em> 中，&lt;!DOCTYPE&gt; 声明引用 <em>DTD</em>，因为 <em>HTML 4.01</em> 基于 <em>SGML</em>。</p>
<p><em>DTD</em> 规定了标记语言的规则，这样浏览器才能正确地呈现内容。</p>
</blockquote>
<h4 id="26-对-web-标准、可用性、可访问性的理解"><a href="#26-对-web-标准、可用性、可访问性的理解" class="headerlink" title="26. 对 web 标准、可用性、可访问性的理解"></a>26. 对 <em>web</em> 标准、可用性、可访问性的理解</h4><blockquote>
<p>参考答案：</p>
<ul>
<li><p>可用性（<em>Usability</em>）：产品是否容易上手，用户能否完成任务，效率如何，以及这过程中用户的主观感受可好，是从用户的角度来看产品的质量。可用性好意味着产品质量高，是企业的核心竞争力。</p>
</li>
<li><p>可访问性（<em>Accessibility</em>）：Web 内容对于残障用户的可阅读和可理解性</p>
</li>
<li><p>可维护性（<em>Maintainability</em>）：一般包含两个层次，一是当系统出现问题时，快速定位并解决问题的成本，成本低则可维护性好。二是代码是否容易被人理解，是否容易修改和增强功能。</p>
</li>
</ul>
</blockquote>
<h4 id="27-HTML5-引入什么新的表单属性？"><a href="#27-HTML5-引入什么新的表单属性？" class="headerlink" title="27. HTML5 引入什么新的表单属性？"></a>27. <em>HTML5</em> 引入什么新的表单属性？</h4><blockquote>
<p>参考答案：</p>
<p><strong><em>form</em> 新属性</strong>：</p>
<ul>
<li><em>autocomplete</em>：属性规定表单是否应该启用自动完成功能。<em>autocomplete</em> 属性适用于 &lt;form&gt;，以及下面的 &lt;input&gt;类型：</li>
</ul>
<p><em>text, search, url, telephone, email, password, date，pickers, range</em> 以及 <em>color</em>。语法是 &lt;form autocomplete&#x3D;”on|off”&gt;</p>
<ul>
<li><em>novalidate</em>：如果使用该属性，则提交表单时不进行内容的验证。<em>novalidate</em> 属性适用于：&lt;form&gt;，以及以下类型的 &lt;input&gt; 标签：<em>text, search, url, telephone, email, password, date pickers, range</em> 以及 <em>color</em>。语法：<em>novalidate&#x3D;”novalidate”</em></li>
</ul>
<p><strong><em>input</em> 新属性</strong>：</p>
<ul>
<li><p><em>autocomplete</em>：同上</p>
</li>
<li><p><em>autofocus</em>：规定输入字段在页面加载时是否获得焦点，加载完成后，光标马上定位在该 <em>input</em></p>
</li>
<li><p><em>form</em>：<em>form</em> 属性的值必须是其所属表单的 <em>id</em>。如需引用一个以上的表单，请使用空格分隔的列表。</p>
</li>
<li><p><em>formaction</em>：属性覆盖 <em>form</em> 元素的 <em>action</em> 属性，比如两个提交按钮的时候，一个是正常提交，一个是管理员提交。该属性适用于 <em>type&#x3D;”submit”</em> 以及 *type&#x3D;”image”*。语法是 <em>formaction&#x3D;”#”</em></p>
</li>
<li><p><em>formenctype：formenctype</em> 属性覆盖 <em>form</em> 元素的 <em>enctype</em> 属性。该属性与 <em>type&#x3D;”submit”</em> 和 <em>type&#x3D;”image”</em> 配合使用。属性规定在发送到服务器之前应该如何对表单数据进行编码。</p>
</li>
<li><p><em>formmethod</em>：覆盖表单的 method 属性。适用于 type&#x3D;“submit” 和 type&#x3D;“image”</p>
</li>
<li><p><em>formnovalidate：formnovalidate</em> 属性覆盖 <em>form</em> 元素的 <em>novalidate</em> 属性。如果使用该属性，则提交表单时按钮不会执行验证过程。</p>
</li>
<li><p><em>formtarget</em>：覆盖表单的 <em>target</em> 属性。适用于 <em>type&#x3D;”submit”</em> 和 *type&#x3D;”image”*， 该属性规定在何处打开 <em>action URL</em>。</p>
</li>
<li><p><em>height</em> 和 <em>width</em>：<em>height</em> 和 <em>width</em> 属性规定用于 <em>image</em> 类型的 &lt;input&gt; 标签的图像高度和宽度。</p>
</li>
<li><p><em>list</em>：引用包含输入字段的预定义选项的 <em>datalist</em> 。</p>
</li>
<li><p><em>min</em> 和 <em>max</em>：<em>min</em> 属性与 <em>max</em> 属性配合使用，可创建合法值范围，两个要一对用。语法是选择 <em>0-10</em> 数字，例如：&lt;input type&#x3D;”number” name&#x3D;”points” min&#x3D;”0” max&#x3D;”10” &#x2F;&gt;</p>
</li>
<li><p>multiple：如果使用该属性，则允许一个以上的值，比如上传文件的时候，设置这个属性后可以一次选择几个图片；multiple 属性适用于以下类型的 <code>&lt;input&gt;</code>标签：email 和 file。</p>
</li>
<li><p><em>pattern (regexp)<em>：描述了一个正则表达式用于验证 &lt;input&gt; 元素的值，</em>pattern</em> 属性适用于以下 &lt;input&gt; 类型：<em>text, search, url, telephone, email</em> 以及 <em>password</em>。</p>
</li>
<li><p><em>placeholder</em>：提供可描述输入字段预期值的提示信息 (<em>hint</em>)。该提示会在输入字段为空时显示，并会在字段获得焦点时消失。</p>
</li>
<li><p><em>required</em>：规定必需在提交之前填写输入字段。 如果使用该属性，则字段是必填（或必选）的。</p>
</li>
<li><p><em>step</em>：为输入域规定合法的数字间隔。 如果 <em>step&#x3D;”3”<em>，则合法的数是 <em>-3、0、3、6</em> 等。</em>step</em> 属性可以与 <em>max</em> 和 <em>min</em> 属性创建一个区域值。</p>
</li>
</ul>
</blockquote>
<h4 id="28-iframe-的作用"><a href="#28-iframe-的作用" class="headerlink" title="28.  iframe 的作用"></a>28.  <em>iframe</em> 的作用</h4><blockquote>
<p>参考答案：</p>
<p>参考答案：</p>
<p><em>iframe</em> 也称作嵌入式框架，嵌入式框架和框架网页类似，它可以把一个网页的框架和内容嵌入在现有的网页中。</p>
<p><strong>优点</strong></p>
<ul>
<li>重载页面时不需要重载整个页面，只需要重载页面中的一个框架页(减少了数据的传输，增加了网页下载速度)</li>
<li>方便制作导航栏</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>会产生很多页面，不容易管理</li>
<li>浏览器的后退按钮无效</li>
<li>无法被一些搜索引擎索引到</li>
<li>多数小型的移动设备（<em>PDA</em> 手机）无法完全显示框架</li>
<li>由于上面诸多缺点，因此不符合标准网页设计的理念，已经被标准网页设计抛弃</li>
</ul>
<p>目前框架的所有优点完全可以使用 <em>Ajax</em> 实现，因此已经没有必要使用 <em>iframe</em> 框架了。</p>
</blockquote>
<h4 id="29-img-上-title-与-alt"><a href="#29-img-上-title-与-alt" class="headerlink" title="29. img 上 title 与 alt"></a>29. <em>img</em> 上 <em>title</em> 与 <em>alt</em></h4><blockquote>
<p>参考答案：</p>
<ul>
<li><p><em>alt</em>：如果无法显示图像，浏览器将显示 <em>alt</em> 指定的内容</p>
</li>
<li><p><em>title</em>：在鼠标移到元素上时显示 <em>title</em> 的内容</p>
</li>
</ul>
<p>两者之间的区别：</p>
<p>通常当⿏标滑动到元素上的时候显示 <em>title</em>。</p>
<p><em>alt</em> 是 &lt;img&gt; 的特有属性，是图⽚内容的等价描述，⽤于图⽚⽆法加载时显示、读屏器 阅读图⽚。可提图⽚⾼可访问性，除了纯装饰图⽚外都必须设置有意义的值，搜索引擎会重点分析。</p>
</blockquote>
<h4 id="30-HTML5-新增哪些新特性-？"><a href="#30-HTML5-新增哪些新特性-？" class="headerlink" title="30. HTML5 新增哪些新特性 ？"></a>30. <em>HTML5</em> 新增哪些新特性 ？</h4><blockquote>
<p>参考答案：</p>
<p><em>HTML5</em> 新增特性有：</p>
<ol>
<li>拖拽释放</li>
<li>语义化更好的内容标签</li>
<li>视频、音频</li>
<li>画布</li>
<li>地理</li>
<li>本地离线存储</li>
<li>表单控件</li>
</ol>
</blockquote>
<h4 id="31-行内元素和块级元素区别，有哪些，怎样转换？（顶呱呱）"><a href="#31-行内元素和块级元素区别，有哪些，怎样转换？（顶呱呱）" class="headerlink" title="31. 行内元素和块级元素区别，有哪些，怎样转换？（顶呱呱）"></a>31. 行内元素和块级元素区别，有哪些，怎样转换？（顶呱呱）</h4><blockquote>
<p>参考答案：</p>
<p>块级元素：</p>
<ul>
<li>总是在新行上开始；</li>
<li>高度，行高以及外边距和内边距都可控制；</li>
<li>宽度缺省是它的容器的 *100%*，除非设定一个宽度。</li>
<li>它可以容纳内联元素和其他块元素</li>
</ul>
<p>行内元素：</p>
<ul>
<li>和其他元素都在一行上；</li>
<li>高，行高及外边距和内边距不可改变；</li>
<li>宽度就是它的文字或图片的宽度，不可改变</li>
<li>内联元素只能容纳文本或者其他内联元素</li>
</ul>
<p>对行内元素，需要注意如下：</p>
<ul>
<li>设置宽度 <em>width</em> 无效。</li>
<li>设置高度 <em>height</em> 无效，可以通过 <em>line-height</em> 来设置。</li>
<li>设置 <em>margin</em> 只有左右 <em>margin</em> 有效，上下无效。</li>
<li>设置 <em>padding</em> 只有左右 <em>padding</em> 有效，上下则无效。注意元素范围是增大了，但是对元素周围的内容是没影响的。</li>
</ul>
<p>通过 <em>display</em> 属性对行内元素和块级元素进行切换(主要看第 <em>2、3、4</em> 个值)：</p>
</blockquote>
<p><img src="/../images/2021-08-16-062732.png"></p>
<blockquote>
<p><em>html</em> 中常见的块级元素：<em>p、div、form、ul、ol、table</em></p>
<p><em>html</em> 中常见的行内元素：<em>a、img、span、button</em></p>
</blockquote>
<h4 id="32-HTML5-与-HTML4-的区别（华安永康）"><a href="#32-HTML5-与-HTML4-的区别（华安永康）" class="headerlink" title="32. HTML5 与 HTML4 的区别（华安永康）"></a>32. <em>HTML5</em> 与 <em>HTML4</em> 的区别（华安永康）</h4><blockquote>
<p>参考答案：</p>
<p>1、语法简化</p>
<p><em>HTML、XHTML</em> 的 <em>DOCTYPE、html、meta、script</em> 等标签，在 <em>HTML5</em> 中有大幅度的简化。</p>
<p>2、统一网页内嵌多媒体语法</p>
<p>以前，在网页中播放多媒体时，需要使用插件的方式来完成。有了 <em>HTML5</em> 之后，使用<code>&lt;video&gt;</code>或<code>&lt;audio&gt;</code>标签播放视频和音频，不需要在安装其他的什么来播放了。</p>
<p>3、新增了语义标签</p>
<p>为了增加网页的可读性，<em>HTML5</em> 增加了 &lt;header&gt;、&lt;footer&gt;、&lt;section&gt;、&lt;article&gt;、&lt;nav&gt;、&lt;hgroup&gt;、&lt;aside&gt;、&lt;figure&gt; 语义标签。</p>
<p>4、<em>HTML5</em> 废除了一些旧标签</p>
<p>废除的大部分是网页美化方面的标签，例如：&lt;big&gt;、&lt;u&gt;、&lt;font&gt;、&lt;basefont&gt;、&lt;center&gt;、&lt;s&gt;、&lt;tt&gt;。对 &lt;frame&gt;框架，不能使用。</p>
<p>5、全新的表单设计</p>
<p>表单是网页设计者最常用的功能，<em>HTML5</em> 对表单做了很大的更改，不但新增了几项新的标签，对原来的 &lt;form&gt; 标签也增加了许多属性。</p>
<p>6、新增了 &lt;canvas&gt; 标签，可以绘制图形</p>
<p><em>HTML5</em> 新增了具有绘图功能的 &lt;canvas&gt;</p>
<p>7、新增许多新的 <em>API</em></p>
<p>例如：<em>querySelector、querySelectorAll</em>、拖拽相关 <em>Api</em></p>
</blockquote>
<h4 id="33-如何处理-HTML5-新标签兼容问题"><a href="#33-如何处理-HTML5-新标签兼容问题" class="headerlink" title="33. 如何处理 HTML5 新标签兼容问题"></a>33. 如何处理 <em>HTML5</em> 新标签兼容问题</h4><blockquote>
<p>参考答案：</p>
<p>主要有两种方式：</p>
<p>方法 1：实现标签被识别</p>
<p>通过 <em>document.createElement(tagName)</em> 方法即可让浏览器识别新标签，浏览器支持新标签后，还可以为新标签添加 <em>CSS</em> 样式。</p>
<p>方法 2：<em>JavaScript</em> 解决方案</p>
<p>使用 <em>html5shim</em> 框架，在<code>&lt;head&gt;</code>中调用以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&lt;!--[<span class="keyword">if</span> lt <span class="variable constant_">IE</span> <span class="number">9</span>]&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"> src=<span class="string">&quot;http://html5shim.googlecode.com/svn/trunk/html5.js&quot;</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&gt;&lt;![endif]--&gt;</span><br></pre></td></tr></table></figure>


<p>当然也可以直接把这个文件下载到自己的网站上，但这个文件必须在 <em>head</em> 标签中调用。</p>
</blockquote>
<h4 id="34-h5-和-html5-区别"><a href="#34-h5-和-html5-区别" class="headerlink" title="34.  h5 和 html5 区别"></a>34.  <em>h5</em> 和 <em>html5</em> 区别</h4><blockquote>
<p>参考答案：</p>
<p><em>H5</em> 是一个产品名词，包含了最新的 <em>HTML5、CSS3、ES6</em> 等新的技术来制作的应用。</p>
<p><em>HTML5</em> 是一个技术名词，指代的就仅仅是第五代 <em>HTML</em>。</p>
</blockquote>
<h4 id="35-form-表单上传文件时需要进行什么样的声明"><a href="#35-form-表单上传文件时需要进行什么样的声明" class="headerlink" title="35. form 表单上传文件时需要进行什么样的声明"></a>35. <em>form</em> 表单上传文件时需要进行什么样的声明</h4><blockquote>
<p>参考答案：</p>
<p>需要添加如下的声明：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enctype=&quot;multipart/form-data&quot;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="36-哪个属性可以做到当鼠标悬停在图片上时显示出文字"><a href="#36-哪个属性可以做到当鼠标悬停在图片上时显示出文字" class="headerlink" title="36. 哪个属性可以做到当鼠标悬停在图片上时显示出文字"></a>36. 哪个属性可以做到当鼠标悬停在图片上时显示出文字</h4><blockquote>
<p>参考答案：</p>
<p><em>title</em> 属性。当我们为图片设置了 <em>title</em> 属性后，鼠标悬停在图片上面，就会显示出 <em>title</em> 属性所设置的值。</p>
</blockquote>
<h4 id="37-如何在一张图片上的某一个区域做到点击事件"><a href="#37-如何在一张图片上的某一个区域做到点击事件" class="headerlink" title="37. 如何在一张图片上的某一个区域做到点击事件"></a>37. 如何在一张图片上的某一个区域做到点击事件</h4><blockquote>
<p>参考答案：</p>
<p>可以使用图片热区技术。步骤如下：</p>
<p>1、插入图片，并设置好图像的有关参数，且在 &lt;img&gt; 标记中设置参数 <em>usemap&#x3D;”#Map”<em>，以表示对图像地图（</em>Map</em>）的引用；<br>2、用 &lt;map&gt; 标记设定图像地图的作用区域，并取名为：<em>Map</em>；<br>3、分别用 &lt;area&gt; 标记针对相应位置划分出多个矩形作用区域，并设定好其链接参数 <em>href</em>。</p>
<p>示例代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;url/to/your/image.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">usemap</span>=<span class="string">&quot;#Map&quot;</span> /&gt;</span></span><br><span class="line"> 　　<span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">&quot;Map&quot;</span> <span class="attr">id</span>=<span class="string">&quot;Map&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">area</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">title</span>=<span class="string">&quot;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">shape</span>=<span class="string">&quot;poly&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">coords</span>=<span class="string">&quot;65,71,98,58,114,90,108,112,79,130,56,116,38,100,41,76,52,53,83,34,110,33,139,46,141,75,145,101,127,115,113,133,85,132,82,131,159,117&quot;</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">area</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">title</span>=<span class="string">&quot;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">shape</span>=<span class="string">&quot;poly&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;28,22,57,20,36,39,27,61&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="38-行内元素有哪些？块级元素有哪些？空（void）元素有哪些？"><a href="#38-行内元素有哪些？块级元素有哪些？空（void）元素有哪些？" class="headerlink" title="38. 行内元素有哪些？块级元素有哪些？空（void）元素有哪些？"></a>38. 行内元素有哪些？块级元素有哪些？空（void）元素有哪些？</h4><blockquote>
<p>参考答案：</p>
<ul>
<li>行内元素：最大的特点就是共享一行，常见的有 <em>span a em i b strong abbr input select</em> 等</li>
<li>块级元素：最大的特点就是独占一行，常见的有 <em>header footer nav section article aside div p ul li ol dl table</em> 等</li>
<li>空元素：就是没有内容的 <em>HTML</em> 元素，比较常见的空元素有 <em>img、link、meta、br、hr</em></li>
</ul>
</blockquote>
<h4 id="39-什么是锚点？"><a href="#39-什么是锚点？" class="headerlink" title="39. 什么是锚点？"></a>39. 什么是锚点？</h4><blockquote>
<p>参考答案：</p>
<p>锚点（<em>anchor</em>）是一种特殊连接，能定位到 <em>HTML</em> 文档中某个特定位置，通过 HTML 元素的 <em>id</em> 来设置锚点。</p>
</blockquote>
<h4 id="40-图片与-span-元素混排图像下方会出现几像素的空隙的原因是什么？"><a href="#40-图片与-span-元素混排图像下方会出现几像素的空隙的原因是什么？" class="headerlink" title="40. 图片与 span 元素混排图像下方会出现几像素的空隙的原因是什么？"></a>40. 图片与 <em>span</em> 元素混排图像下方会出现几像素的空隙的原因是什么？</h4><blockquote>
<p>参考答案：</p>
<p><em>img</em> 作为可替换元素，它没有自己的基线，如果与不可替换元素混合排列，其行盒底端与基线对齐。由于与基线对齐，图像下方就会出现几像素的空隙。</p>
</blockquote>
<h4 id="41-a-元素除了用于导航外，还可以有什么作用？"><a href="#41-a-元素除了用于导航外，还可以有什么作用？" class="headerlink" title="41. a 元素除了用于导航外，还可以有什么作用？"></a>41. <em>a</em> 元素除了用于导航外，还可以有什么作用？</h4><blockquote>
<p>参考答案：</p>
<p><em>href</em> 属性中的 <em>url</em> 可以是浏览器支持的任何协议，所以 <em>a</em> 可以用于手机拨号 &lt;a href&#x3D;’tel:10086’&gt;10086</a>、发送短信 &lt;a href&#x3D;”sms:10086?body&#x3D;test”&gt; 等。</p>
<p>当然，<em>a</em> 元素最常见的两个应用就是做锚点和下载文件。</p>
<p>锚点可以在点击时快速定位到一个页面的某一个位置，而下载的原理在于 <em>a</em> 标签所对应的资源浏览器无法解析，于是浏览器会选择将其下载下来。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/18/nodejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/18/nodejs/" class="post-title-link" itemprop="url">nodejs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-18 11:41:08" itemprop="dateCreated datePublished" datetime="2024-12-18T11:41:08+08:00">2024-12-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/nodejs/" itemprop="url" rel="index"><span itemprop="name">nodejs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="nodejs"><a href="#nodejs" class="headerlink" title="nodejs"></a>nodejs</h1><p>nodejs 是 javascript 的运行环境, 不是一门语言</p>
<p><img src="/../images/nodejs_01.jpeg"></p>
<p>用户代码：js代码</p>
<p>三方库：大部分都是js代码</p>
<p>本地模块代码：js代码</p>
<p>内置模块代码： c&#x2F;c++代码</p>
<p>V8 引擎：c&#x2F;c++代码，作用：把js代码转换成机器码</p>
<p>可以通过V8引擎的某种机制，扩展其功能</p>
<p>V8 引擎的扩展和对扩展的编译，是通过一个工具： node-gyp 工具 完成 的</p>
<p>某些第三方库需要使用node-gyp工具进行构建，因此需要先安装node-gyp</p>
<p>koa 洋葱模型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;111, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;111, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;222, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;222, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;333, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;333, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">打印顺序</span><br><span class="line"></span><br><span class="line">111, start</span><br><span class="line">222, start</span><br><span class="line">333, start</span><br><span class="line">333, end</span><br><span class="line">222, end</span><br><span class="line">111, end</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;111, start&#x27;)</span><br><span class="line">    // await next()</span><br><span class="line">    consol.log(&#x27;111, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;222, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;222, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;333, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;333, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">打印顺序</span><br><span class="line"></span><br><span class="line">111, start</span><br><span class="line">111, end</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;111, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;111, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;222, start&#x27;)</span><br><span class="line">    // await next()</span><br><span class="line">    consol.log(&#x27;222, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;333, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;333, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">打印顺序</span><br><span class="line"></span><br><span class="line">111, start</span><br><span class="line">222, start</span><br><span class="line">222, end</span><br><span class="line">111, end</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;111, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;111, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;222, start&#x27;)</span><br><span class="line">    await next()</span><br><span class="line">    consol.log(&#x27;222, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(async (ctx, next) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    consol.log(&#x27;333, start&#x27;)</span><br><span class="line">    // await next()</span><br><span class="line">    consol.log(&#x27;333, end&#x27;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">打印顺序</span><br><span class="line"></span><br><span class="line">111, start</span><br><span class="line">222, start</span><br><span class="line">333, start</span><br><span class="line">333, end</span><br><span class="line">222, end</span><br><span class="line">111, end</span><br></pre></td></tr></table></figure>



<p>参考：<br>libuv book<br><a target="_blank" rel="noopener" href="https://luohaha.github.io/Chinese-uvbook/source/introduction.html">https://luohaha.github.io/Chinese-uvbook/source/introduction.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1GfywY7Ebs?spm_id_from=333.788.videopod.episodes&vd_source=ffda878df0ed45bee1ade91d8f451048&p=43">https://www.bilibili.com/video/BV1GfywY7Ebs?spm_id_from=333.788.videopod.episodes&amp;vd_source=ffda878df0ed45bee1ade91d8f451048&amp;p=43</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/18/nodejs-%E4%BA%91%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/18/nodejs-%E4%BA%91%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C/" class="post-title-link" itemprop="url">nodejs 云开发体验</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-18 11:29:00" itemprop="dateCreated datePublished" datetime="2024-12-18T11:29:00+08:00">2024-12-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/nodejs/" itemprop="url" rel="index"><span itemprop="name">nodejs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/nodejs/%E4%BA%91%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">云开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://hzh.sealos.run/">https://hzh.sealos.run/</a></p>
<p><img src="/../images/node_ykf_01.png"></p>
<p><img src="/../images/node_ykf_02.png"></p>
<p><img src="/../images/node_ykf_03.png"></p>
<p><img src="/../images/node_ykf_04.png"></p>
<p><img src="/../images/node_ykf_05.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/18/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E6%8E%92%E6%9F%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/18/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E6%8E%92%E6%9F%A5/" class="post-title-link" itemprop="url">内存泄漏排查</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-18 08:49:05" itemprop="dateCreated datePublished" datetime="2024-12-18T08:49:05+08:00">2024-12-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%86%85%E5%AD%98/" itemprop="url" rel="index"><span itemprop="name">内存</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%86%85%E5%AD%98/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" itemprop="url" rel="index"><span itemprop="name">内存泄漏</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">mem.js</span><br><span class="line"></span><br><span class="line">const http = require(&#x27;http&#x27;);</span><br><span class="line"></span><br><span class="line">const heapdump = require(&#x27;heapdump&#x27;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">leakArray = [];</span><br><span class="line"></span><br><span class="line">// const leakArray = [];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const showMem = function()&#123;</span><br><span class="line"></span><br><span class="line">    var mem = process.memoryUsage();</span><br><span class="line">    </span><br><span class="line">    const format = function(bytes)&#123;</span><br><span class="line">        return (bytes / 1024 / 1024).toFixed(2) + &#x27; MB&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    console.log(`Memory Usage: $&#123;format(mem.rss - mem.heapUsed)&#125; 堆外, $&#123;format(mem.heapTotal)&#125; heapTotal, $&#123;format(mem.heapUsed)&#125; heapUsed.`);</span><br><span class="line">    // console.log(mem);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var leak = function()&#123;</span><br><span class="line"></span><br><span class="line">    leakArray.push(new Array(20*1024*1024));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http.createServer(function (req, res) &#123;</span><br><span class="line"></span><br><span class="line">    leak();</span><br><span class="line"></span><br><span class="line">    res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;);</span><br><span class="line">    res.end(&#x27;Hello World\n&#x27;);</span><br><span class="line"></span><br><span class="line">    showMem();</span><br><span class="line"></span><br><span class="line">&#125;).listen(8001, ()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;Server running at http://127.0.0.1:8001/ pid:&#x27; + process.pid);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// kill -USR2 pid</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="工具-heapdump"><a href="#工具-heapdump" class="headerlink" title="工具 heapdump"></a>工具 heapdump</h1><h2 id="触发生成内存快照"><a href="#触发生成内存快照" class="headerlink" title="触发生成内存快照"></a>触发生成内存快照</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kill -USR2 pid</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="分析快照"><a href="#分析快照" class="headerlink" title="分析快照"></a>分析快照</h2><p><img src="/../images/mem_01.png"></p>
<p><img src="/../images/mem_02.png"></p>
<h2 id="内存泄漏"><a href="#内存泄漏" class="headerlink" title="内存泄漏"></a>内存泄漏</h2><p>Node 对内存泄漏十分敏感，在巨大的流量面前，哪怕有一个字节的内存泄漏，也会积少成多。</p>
<p>原因：<br>缓存：过度使用缓存或缓存管理不当，导致不再使用的数据仍然占用内存。<br>队列消费不及时：消息队列中的任务堆积，未能及时处理，导致内存占用持续增加<br>作用域未释放：变量的作用域没有正确释放，尤其是在使用闭包时，可能导致对象无法被垃圾回收机制回收。</p>
<p>参考：</p>
<p>V8引擎[垃圾回收]与[内存泄露]<br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6920218829524041741">https://juejin.cn/post/6920218829524041741</a></p>
<p>Electron V8排查问题之发现的内存泄漏问题如何解决<br><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/1586548">https://developer.aliyun.com/article/1586548</a></p>
<p>如何排查 Electron V8 引发的内存 OOM 问题（下）<br><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/1263248">https://developer.aliyun.com/article/1263248</a></p>
<p>垃圾回收<br><a target="_blank" rel="noopener" href="https://zh.javascript.info/garbage-collection">https://zh.javascript.info/garbage-collection</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/17/webrtc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/17/webrtc/" class="post-title-link" itemprop="url">webrtc</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-17 09:26:53" itemprop="dateCreated datePublished" datetime="2024-12-17T09:26:53+08:00">2024-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webrtc/" itemprop="url" rel="index"><span itemprop="name">webrtc</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webrtc/%E9%9F%B3%E8%A7%86%E9%A2%91/" itemprop="url" rel="index"><span itemprop="name">音视频</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="WebRTC-介绍"><a href="#WebRTC-介绍" class="headerlink" title="WebRTC 介绍"></a>WebRTC 介绍</h1><h2 id="1-定义"><a href="#1-定义" class="headerlink" title="1. 定义"></a>1. 定义</h2><p>WebRTC（Web Real-Time Communication）是一种允许网页浏览器进行实时通信（RTC）的技术。它使得浏览器之间可以直接进行音频、视频和其他数据的传输，而无需通过中间服务器。</p>
<h2 id="2-主要特点"><a href="#2-主要特点" class="headerlink" title="2. 主要特点"></a>2. 主要特点</h2><ul>
<li><strong>实时通信</strong>：WebRTC 支持低延迟的实时音视频通信。</li>
<li><strong>点对点通信</strong>：WebRTC 通过点对点（P2P）连接实现直接通信，减少了中间服务器的负担。</li>
<li><strong>开源标准</strong>：WebRTC 是一个开放标准，由 W3C 和 IETF 维护。</li>
<li><strong>跨平台</strong>：WebRTC 支持多种浏览器和操作系统，包括 Chrome、Firefox、Safari、Edge 等。</li>
</ul>
<h2 id="3-核心组件"><a href="#3-核心组件" class="headerlink" title="3. 核心组件"></a>3. 核心组件</h2><ul>
<li><strong>RTCPeerConnection</strong>：<ul>
<li>用于建立和管理点对点连接。</li>
<li>处理音视频流的传输。</li>
</ul>
</li>
<li><strong>RTCDataChannel</strong>：<ul>
<li>用于在点对点连接中传输任意数据。</li>
<li>支持文本和二进制数据。</li>
</ul>
</li>
<li><strong>MediaStream</strong>：<ul>
<li>代表媒体流，如麦克风输入或摄像头视频。</li>
<li>可以通过 <code>getUserMedia</code> API 获取。</li>
</ul>
</li>
</ul>
<h2 id="4-工作流程"><a href="#4-工作流程" class="headerlink" title="4. 工作流程"></a>4. 工作流程</h2><ol>
<li><p><strong>获取媒体流</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">navigator.<span class="property">mediaDevices</span>.<span class="title function_">getUserMedia</span>(&#123; <span class="attr">audio</span>: <span class="literal">true</span>, <span class="attr">video</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">stream</span> =&gt;</span> &#123;</span><br><span class="line">    localVideo.<span class="property">srcObject</span> = stream;</span><br><span class="line">    localStream = stream;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error accessing media devices.&#x27;</span>, error));</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>创建 RTCPeerConnection</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pc = <span class="keyword">new</span> <span class="title class_">RTCPeerConnection</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>添加本地媒体流</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pc.<span class="title function_">addStream</span>(localStream);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>设置 ICE 服务器</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pc.<span class="title function_">setConfiguration</span>(&#123;</span><br><span class="line">  <span class="attr">iceServers</span>: [</span><br><span class="line">    &#123; <span class="attr">urls</span>: <span class="string">&#x27;stun:stun.l.google.com:19302&#x27;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>创建 Offer</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pc.<span class="title function_">createOffer</span>().<span class="title function_">then</span>(<span class="function"><span class="params">offer</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> pc.<span class="title function_">setLocalDescription</span>(offer);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 发送 offer 到远端</span></span><br><span class="line">  <span class="title function_">sendToServer</span>(pc.<span class="property">localDescription</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>接收远端 Answer</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pc.<span class="title function_">setRemoteDescription</span>(<span class="keyword">new</span> <span class="title class_">RTCSessionDescription</span>(remoteDescription));</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>处理 ICE 候选</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pc.<span class="property">onicecandidate</span> = <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">candidate</span>) &#123;</span><br><span class="line">    <span class="title function_">sendToServer</span>(event.<span class="property">candidate</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>接收远端 ICE 候选</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pc.<span class="title function_">addIceCandidate</span>(<span class="keyword">new</span> <span class="title class_">RTCIceCandidate</span>(remoteCandidate));</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>接收远端媒体流</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pc.<span class="property">ontrack</span> = <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  remoteVideo.<span class="property">srcObject</span> = event.<span class="property">streams</span>[<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="5-优势"><a href="#5-优势" class="headerlink" title="5. 优势"></a>5. 优势</h2><ul>
<li><strong>低延迟</strong>：WebRTC 通过优化的传输协议（如 UDP）实现低延迟通信。</li>
<li><strong>安全性</strong>：所有数据传输都经过加密，确保通信安全。</li>
<li><strong>灵活性</strong>：支持多种媒体类型和数据传输方式。</li>
</ul>
<h2 id="6-应用场景"><a href="#6-应用场景" class="headerlink" title="6. 应用场景"></a>6. 应用场景</h2><ul>
<li><strong>视频会议</strong>：如 Zoom、Google Meet 等。</li>
<li><strong>在线教育</strong>：实时互动课堂。</li>
<li><strong>远程医疗</strong>：医生与患者之间的视频咨询。</li>
<li><strong>游戏</strong>：多人在线游戏中的实时通信。</li>
<li><strong>直播</strong>：实时直播和互动。</li>
</ul>
<h2 id="7-挑战"><a href="#7-挑战" class="headerlink" title="7. 挑战"></a>7. 挑战</h2><ul>
<li><strong>网络环境</strong>：复杂的网络环境可能导致连接不稳定。</li>
<li><strong>兼容性</strong>：不同浏览器和设备的兼容性问题。</li>
<li><strong>信令</strong>：需要一个可靠的信令机制来交换连接信息。</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>WebRTC 是一种强大的实时通信技术，适用于多种应用场景。通过其核心组件和工作流程，开发者可以构建高效、安全的实时通信应用。尽管存在一些挑战，但随着技术的发展，这些问题正在逐步得到解决。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/16/uniapp-%E4%BA%86%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/16/uniapp-%E4%BA%86%E8%A7%A3/" class="post-title-link" itemprop="url">uniapp 了解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-16 11:48:23" itemprop="dateCreated datePublished" datetime="2024-12-16T11:48:23+08:00">2024-12-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uniapp"><a href="#uniapp" class="headerlink" title="uniapp"></a>uniapp</h1><p>一套代码编到十几个平台</p>
<p>Android、iOS(uni-app x),鸿蒙版,微信小程序版,Web版,Android版(uni-app),iOS版(uni-app),支付宝小程序版,百度小程序版,抖音小程序版,QQ小程序版,360小程序,快手小程序版,飞书小程序版,钉钉小程序版,京东小程序版,小红书小程序版,快应用</p>
<h2 id="hbuilderX中使用unicloud云开发平台"><a href="#hbuilderX中使用unicloud云开发平台" class="headerlink" title="hbuilderX中使用unicloud云开发平台"></a>hbuilderX中使用unicloud云开发平台</h2><h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><ul>
<li>参考文档：<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/uniCloud/README">https://uniapp.dcloud.io/uniCloud/README</a></li>
<li>web控制台文档：<a target="_blank" rel="noopener" href="https://dev.dcloud.net.cn/pages/common/login">https://dev.dcloud.net.cn/pages/common/login</a></li>
</ul>
<h3 id="传统业务开发流程"><a href="#传统业务开发流程" class="headerlink" title="传统业务开发流程"></a>传统业务开发流程</h3><blockquote>
<p>​	前端 &#x3D;&gt; 后端 &#x3D;&gt; 运维 &#x3D;&gt; 发布上线</p>
</blockquote>
<p><strong>使用unicloud云开发平台</strong></p>
<blockquote>
<p>前端 &#x3D;&gt; 运维 &#x3D;&gt; 发布上线</p>
</blockquote>
<h3 id="什么是unicloud"><a href="#什么是unicloud" class="headerlink" title="什么是unicloud"></a>什么是unicloud</h3><blockquote>
<p><code>uniCloud</code> 是 DCloud 联合阿里云、腾讯云，为开发者提供的基于 serverless 模式和 js 编程的实现后端服务的云开发平台。不需要服务器的购买配置即可快速创建一个完整的后端服务。</p>
</blockquote>
<h3 id="unicloud优点"><a href="#unicloud优点" class="headerlink" title="unicloud优点"></a>unicloud优点</h3><ul>
<li>用JavaScript开发前后台整体业务</li>
<li>非h5项目免域名使用服务器</li>
<li>敏捷性业务处理，不需要前后端分离开发</li>
</ul>
<h2 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h2><p><img src="/../images/uniapp_01.png"></p>
<h3 id="uncloud构成"><a href="#uncloud构成" class="headerlink" title="uncloud构成"></a>uncloud构成</h3><p><img src="/../images/uniapp_02.png"></p>
<h4 id="云数据库"><a href="#云数据库" class="headerlink" title="云数据库"></a>云数据库</h4><p><img src="/../images/uniapp_03.png"></p>
<h4 id="云存储及CDN"><a href="#云存储及CDN" class="headerlink" title="云存储及CDN"></a>云存储及CDN</h4><blockquote>
<p>可进行文件的相关存储操作</p>
</blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/uniCloud/storage">https://uniapp.dcloud.io/uniCloud/storage</a></p>
<hr>
<h4 id="创建云函数工程"><a href="#创建云函数工程" class="headerlink" title="创建云函数工程"></a>创建云函数工程</h4><ol>
<li><strong>指定unicloud工程创建</strong></li>
</ol>
<p><img src="/../images/uniapp_04.png"></p>
<ol start="2">
<li><strong>保证uni-app应用标识appID填写</strong>（保证用户为登录状态）</li>
</ol>
<p><img src="/../images/uniapp_05.png"></p>
<ol start="3">
<li><p><strong>进行云服务空间创建</strong></p>
<p><img src="/../images/uniapp_06.png"></p>
<blockquote>
<p>如果未进行实名认证，会跳转至实名认证页面进行实名认证，等待实名认证审核之后可以开通服务空间。若腾讯云实名认证提示身份证下已创建过多账户，则需要在腾讯云官网注销不用的账户</p>
</blockquote>
</li>
<li><p>进行云函数创建</p>
<p><img src="/../images/uniapp_07.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="comment">// 一个通过nodeJS运行的函数在服务器端使用</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">main</span> = <span class="title function_">async</span> (event, context) =&gt; &#123;</span><br><span class="line">	<span class="comment">//event为客户端上传的参数</span></span><br><span class="line">	<span class="comment">//context 包含了调用信息及运行状态,获取每次调用的上下文</span></span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;event : &#x27;</span>, event)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//返回数据给客户端</span></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="string">&quot;code&quot;</span>:<span class="number">0</span>,</span><br><span class="line">		<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;云函数调用成功&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


</li>
<li><p><strong>云WEB控制台查看</strong></p>
<p><img src="/../images/uniapp_08.png"></p>
</li>
<li><p><strong>云数据库操作</strong></p>
<blockquote>
<p>在云数据库中进行数据操作，全部使用双引号进行值的定义</p>
</blockquote>
</li>
<li><p>云存储</p>
<blockquote>
<p>在云存储中进行文件的上传</p>
<p>api使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uniCloud.<span class="title function_">uploadFile</span>(&#123;&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>跨域处理</p>
<p>参考文档<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/uniCloud/quickstart?id=useinh5">https://uniapp.dcloud.io/uniCloud/quickstart?id=useinh5</a></p>
</li>
</ol>
<h2 id="unicloud-api操作"><a href="#unicloud-api操作" class="headerlink" title="unicloud api操作"></a>unicloud api操作</h2><h3 id="云函数调用"><a href="#云函数调用" class="headerlink" title="云函数调用"></a>云函数调用</h3><p><strong>参考文档</strong>：<a target="_blank" rel="noopener" href="https://uniapp.dcloud.net.cn/uniCloud/cf-functions?id=clientcallfunction">https://uniapp.dcloud.net.cn/uniCloud/cf-functions?id=clientcallfunction</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// promise方式</span></span><br><span class="line">uniCloud.<span class="title function_">callFunction</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span>, <span class="comment">// 云函数名称</span></span><br><span class="line">    <span class="attr">data</span>: &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;   <span class="comment">// 请求参数</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// callback方式</span></span><br><span class="line">uniCloud.<span class="title function_">callFunction</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;,</span><br><span class="line">    <span class="title function_">success</span>(<span class="params"></span>)&#123;&#125;,  <span class="comment">// 成功</span></span><br><span class="line">    <span class="title function_">fail</span>(<span class="params"></span>)&#123;&#125;,   <span class="comment">// 失败</span></span><br><span class="line">    <span class="title function_">complete</span>(<span class="params"></span>)&#123;&#125;   <span class="comment">// 完成（不管成功与失败）</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="云函数实现云数据库基本增删改查"><a href="#云函数实现云数据库基本增删改查" class="headerlink" title="云函数实现云数据库基本增删改查"></a>云函数实现云数据库基本增删改查</h3><h4 id="1-获取数据库引用"><a href="#1-获取数据库引用" class="headerlink" title="1. 获取数据库引用"></a>1. 获取数据库引用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> db = uniCloud.<span class="title function_">database</span>()</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>获取数据库集合引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const collection = db.collection(&#x27;unicloud-test-714&#x27;) // uncloud-test-714 为数据表名称</span><br></pre></td></tr></table></figure>
</li>
<li><p>新增记录</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = collection.<span class="title function_">add</span>(&#123;<span class="attr">user</span>:<span class="string">&#x27;alan&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> db = uniCloud.<span class="title function_">database</span>() <span class="comment">// 获取数据库引用</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">main</span> = <span class="title function_">async</span> (event, context) =&gt; &#123;</span><br><span class="line">	<span class="comment">// 获取集合引用</span></span><br><span class="line">	<span class="keyword">const</span> collection = db.<span class="title function_">collection</span>(<span class="string">&#x27;unicloud-test-714&#x27;</span>)</span><br><span class="line">	<span class="comment">// 新增数据</span></span><br><span class="line">	<span class="keyword">const</span> res = <span class="keyword">await</span> collection.<span class="title function_">add</span>(&#123;<span class="attr">user</span>:<span class="string">&#x27;alan&#x27;</span>&#125;)</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="string">&quot;code&quot;</span>:<span class="number">0</span>,</span><br><span class="line">		<span class="string">&quot;msg&quot;</span>:<span class="string">&quot;云函数调用成功&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除记录</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> collection.<span class="title function_">doc</span>(<span class="string">&#x27;60ee51103b7d3500014124c1&#x27;</span>).<span class="title function_">remove</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据更新</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> collection.<span class="title function_">doc</span>(<span class="string">&#x27;60ee52a1827eca0001e56bc4&#x27;</span>).<span class="title function_">update</span>(&#123;</span><br><span class="line">		<span class="attr">name</span>:<span class="string">&quot;joob&quot;</span></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> collection.<span class="title function_">doc</span>(<span class="string">&#x27;60ee52a1827eca0001e56bc4&#x27;</span>).<span class="title function_">set</span>(&#123;   <span class="comment">// 如果说获取不到内容，从新进行插入记录的操作</span></span><br><span class="line">		<span class="attr">name</span>:<span class="string">&quot;joob&quot;</span>,</span><br><span class="line">  	<span class="attr">type</span>:<span class="string">&quot;javascript&quot;</span></span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>update与set的区别：</p>
<p>当没有找到指定记录时，使用update无法进行更新操作，set在没有查找到指定记录的时候，可以进行新增内容的操作（不存在进行创建添加操作）</p>
</blockquote>
</li>
<li><p>数据查找</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查询全部</span></span><br><span class="line">	<span class="keyword">const</span> res = <span class="keyword">await</span> collection.<span class="title function_">get</span>()</span><br><span class="line"><span class="comment">// 指定条件进行查询-id查询</span></span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> collection.<span class="title function_">doc</span>(<span class="string">&#x27;id&#x27;</span>).<span class="title function_">get</span>()  <span class="comment">// id为需要查询的指定id</span></span><br><span class="line"><span class="comment">// 指定条件查询-其他条件进行查询</span></span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> collection.<span class="title function_">where</span>(&#123;<span class="attr">name</span>:<span class="string">&quot;alan&quot;</span>&#125;).<span class="title function_">get</span>()</span><br></pre></td></tr></table></figure>



<h4 id="云存储操作"><a href="#云存储操作" class="headerlink" title="云存储操作"></a>云存储操作</h4><ol>
<li><p>使用uni.chooseImage方法进行图片选择获取</p>
<p>参考地址：<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/api/media/image?id=chooseimage">https://uniapp.dcloud.io/api/media/image?id=chooseimage</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">				<span class="attr">count</span>: <span class="number">1</span>,</span><br><span class="line">				<span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(res.<span class="property">tempFilePaths</span>))</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用uniCloud.uploadFile进行文件上传</p>
<p>参考文档：<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/uniCloud/storage?id=clouduploadfile">https://uniapp.dcloud.io/uniCloud/storage?id=clouduploadfile</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">					<span class="attr">count</span>: <span class="number">1</span>,</span><br><span class="line">					<span class="keyword">async</span> <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">						<span class="keyword">let</span> result = <span class="keyword">await</span> uniCloud.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">							<span class="attr">filePath</span>:res.<span class="property">tempFilePaths</span>[<span class="number">0</span>],</span><br><span class="line">							<span class="attr">cloudPath</span>:<span class="string">&#x27;a.jpg&#x27;</span>,</span><br><span class="line">							<span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">								<span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">							&#125;,</span><br><span class="line">							<span class="title function_">fail</span>(<span class="params">err</span>) &#123;</span><br><span class="line">								<span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用uniCloud.deleteFile进行图片删除</p>
<p>参考文档：<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/uniCloud/storage?id=clouddeletefile">https://uniapp.dcloud.io/uniCloud/storage?id=clouddeletefile</a></p>
<p><strong>阿里云函数删除不能在客户端进行删除操作，下列代码在云函数中进行使用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> uniCloud.<span class="title function_">deleteFile</span>(&#123;</span><br><span class="line">	   <span class="attr">fileList</span>:[<span class="string">&#x27;https://vkceyugu.cdn.bspapp.com/VKCEYUGU-6ce25980-c28e-4e78-bdef-a96eb40ad98b/06a1cb3a-84b7-47a0-b554-8aff299cb255.jpg&#x27;</span>],</span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h2 id="UniApp-云函数使用场景"><a href="#UniApp-云函数使用场景" class="headerlink" title="UniApp 云函数使用场景"></a>UniApp 云函数使用场景</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. **数据存储与查询**</span><br><span class="line">   - 使用云函数连接数据库，实现数据的增删改查操作。</span><br><span class="line">   - 示例：用户注册、登录、个人信息保存等。</span><br><span class="line"></span><br><span class="line">2. **文件上传与下载**</span><br><span class="line">   - 通过云函数处理文件的上传和下载，确保文件的安全性和高效传输。</span><br><span class="line">   - 示例：用户头像上传、文档下载等。</span><br><span class="line"></span><br><span class="line">3. **支付功能**</span><br><span class="line">   - 调用第三方支付接口，完成支付流程。</span><br><span class="line">   - 示例：微信支付、支付宝支付等。</span><br><span class="line"></span><br><span class="line">4. **消息推送**</span><br><span class="line">   - 使用云函数发送通知或消息，提高用户体验。</span><br><span class="line">   - 示例：订单状态更新通知、活动提醒等。</span><br><span class="line"></span><br><span class="line">5. **权限验证**</span><br><span class="line">   - 在云函数中进行权限校验，确保敏感操作的安全性。</span><br><span class="line">   - 示例：管理员权限校验、用户角色验证等。</span><br><span class="line"></span><br><span class="line">6. **定时任务**</span><br><span class="line">   - 设置定时任务，定期执行某些操作。</span><br><span class="line">   - 示例：数据备份、日志清理等。</span><br><span class="line"></span><br><span class="line">7. **第三方服务调用**</span><br><span class="line">   - 通过云函数调用第三方 API，扩展应用功能。</span><br><span class="line">   - 示例：天气查询、地图定位等。</span><br><span class="line"></span><br><span class="line">8. **数据同步**</span><br><span class="line">   - 实现多端数据同步，确保数据一致性。</span><br><span class="line">   - 示例：跨平台数据同步、多设备数据同步等。</span><br><span class="line"></span><br><span class="line">9. **日志记录**</span><br><span class="line">   - 记录应用运行日志，便于问题排查和性能优化。</span><br><span class="line">   - 示例：用户行为日志、错误日志等。</span><br><span class="line"></span><br><span class="line">10. **自定义业务逻辑**</span><br><span class="line">    - 根据具体业务需求，编写自定义的云函数逻辑。</span><br><span class="line">    - 示例：复杂的计算任务、数据处理等。</span><br><span class="line"></span><br><span class="line">通过这些场景，UniApp 云函数可以帮助开发者更高效地实现后端逻辑，提升应用的整体性能和用户体验。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="发布-wap"><a href="#发布-wap" class="headerlink" title="发布 wap"></a>发布 wap</h2><h2 id="发布小程序"><a href="#发布小程序" class="headerlink" title="发布小程序"></a>发布小程序</h2><p>通过uniapp官方开发工具开发，发布上线，通过小程序开发工具发布上线</p>
<h2 id="发布安卓"><a href="#发布安卓" class="headerlink" title="发布安卓"></a>发布安卓</h2><h2 id="UniApp-与-React-Native-的主要区别"><a href="#UniApp-与-React-Native-的主要区别" class="headerlink" title="UniApp 与 React Native 的主要区别"></a>UniApp 与 React Native 的主要区别</h2><p>UniApp:<br>如果你已经熟悉 Vue.js，学习 UniApp 会比较容易。<br>文档和示例相对简单，上手较快。</p>
<p>React Native:<br>如果你已经熟悉 React.js，学习 React Native 会比较容易。<br>需要了解一些原生开发的概念，学习曲线稍陡。</p>
<p>UniApp 适合快速开发轻量级的跨平台应用，特别是需要同时支持多个平台的项目。</p>
<p>React Native 适合开发高性能、复杂交互的移动应用，特别是对性能有较高要求的项目。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/14/oAuth2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/14/oAuth2/" class="post-title-link" itemprop="url">oAuth2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-14 10:42:30" itemprop="dateCreated datePublished" datetime="2024-12-14T10:42:30+08:00">2024-12-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/nodejs/" itemprop="url" rel="index"><span itemprop="name">nodejs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/nodejs/oauth2/" itemprop="url" rel="index"><span itemprop="name">oauth2</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="认识-OAuth2-0"><a href="#认识-OAuth2-0" class="headerlink" title="认识 OAuth2.0"></a>认识 OAuth2.0</h1><h2 id="什么是-OAuth？"><a href="#什么是-OAuth？" class="headerlink" title="什么是 OAuth？"></a>什么是 OAuth？</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/OAuth">OAuth</a>是一个关于授权（authorization）的开放网络标准协议，简单理解就是一种授权机制。</p>
</blockquote>
<blockquote>
<p>它是在客户端和资源所有者之间的授权层，用来分离两种不同的角色。在资源所有者同意并向客户端颁发令牌后，客户端携带令牌可以访问资源所有者的资源。</p>
<p>OAuth2.0 是 OAuth 协议的一个版本，<strong>2.0 版本不兼容 1.0 版本，相当于 1.0 版本已经废弃</strong></p>
</blockquote>
<h4 id="令牌的特点"><a href="#令牌的特点" class="headerlink" title="令牌的特点"></a>令牌的特点</h4><p>（1）短期的，到期会自动失效，用户自己无法修改。</p>
<p>（2）可以被数据所有者撤销，会立即失效。</p>
<p>（3）有权限范围（scope），对于网络服务来说，只读令牌就比读写令牌更安全。</p>
<blockquote>
<p>令牌既可以让第三方应用获得权限，同时又随时可控，不会危及系统安全。这也是 OAuth 2.0 的优点。</p>
<p><strong>注意</strong>，只要知道了令牌，就能进入系统。系统一般不会再次确认身份，所以<strong>令牌必须保密，泄漏令牌与泄漏密码的后果是一样的。</strong> 这也是为什么令牌的有效期，一般都设置得很短的原因。</p>
</blockquote>
<h2 id="获取令牌四种实现方式"><a href="#获取令牌四种实现方式" class="headerlink" title="获取令牌四种实现方式"></a>获取令牌四种实现方式</h2><ul>
<li>授权码（authorization-code）</li>
<li>隐藏式（implicit）</li>
<li>密码式（password）：</li>
<li>客户端凭证（client credentials）</li>
</ul>
<blockquote>
<p>不管哪一种授权方式，第三方应用申请令牌之前，<strong>都必须先到系统备案</strong>，说明自己的身份，然后会拿到两个身份识别码：<strong>客户端 ID（client ID）和客户端密钥（client secret）</strong>。这是为了防止令牌被滥用，没有备案过的第三方应用，是不会拿到令牌的；</p>
</blockquote>
<h2 id="授权码"><a href="#授权码" class="headerlink" title="授权码"></a>授权码</h2><p><strong>授权码（authorization code）方式，指的是第三方应用先申请一个授权码，然后再用该码获取令牌（适合前后端分离，最常用的方式）。</strong></p>
<blockquote>
<p>这种方式是最常用的流程，安全性也最高，它适用于有后端的 Web 应用。授权码通过前端传送，令牌则是储存在后端，而且所有与资源服务器的通信都在后端完成。这样的前后端分离，可以避免令牌泄漏。</p>
</blockquote>
<h3 id="实现流程"><a href="#实现流程" class="headerlink" title="实现流程"></a>实现流程</h3><ol>
<li><p><strong>A 网站提供一个链接，用户点击后就会跳转到 B 网站，授权用户数据给 A 网站使用。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="comment">//b.com/oauth/authorize?</span></span><br><span class="line">  response_type=code&amp;</span><br><span class="line">  client_id=<span class="variable constant_">CLIENT_ID</span>&amp;</span><br><span class="line">  redirect_uri=<span class="variable constant_">CALLBACK_URL</span>&amp;</span><br><span class="line">  scope=read</span><br></pre></td></tr></table></figure>

<ul>
<li>response<em>type&#x3D;code _code 参数表示要求返回授权码</em></li>
<li>client*id&#x3D;CLIENT_ID *参数让 B 知道是谁在请求数据_</li>
<li>redirect*uri &#x3D; CALLBACK_URL *当 B 网站处理完成链接请求后的跳转地址_</li>
<li>scope&#x3D;read <em>表示要授权的范围，read 代表对授权资源进行只读操作</em></li>
</ul>
</li>
<li><p><strong>跳转成功，B 网站会要求用户登录，然后询问是否同意给予 A 网站授权。用户表示同意，这时 B 网站就会跳回<code>redirect_uri</code>参数指定的网址。跳转时，会传回一个授权码</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="comment">//a.com/callback?code=AUTHORIZATION_CODE     // code 代表授权码</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>A 网站拿到授权码以后，就可以在后端，向 B 网站请求令牌。</strong></p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://b.com/oauth/token? client_id=CLIENT_ID&amp; client_secret=CLIENT_SECRET&amp;</span><br><span class="line">grant_type=authorization_code&amp; code=AUTHORIZATION_CODE&amp;</span><br><span class="line">redirect_uri=CALLBACK_URL</span><br></pre></td></tr></table></figure>

<p>​ client*id *确认 A 的身份_</p>
<p>​ client*secret *确认 A 的身份_</p>
<p>​ grant*type *表示使用授权的方式获取授权码_</p>
<p>​ code <em>第二步中获取到的 code 值</em></p>
<p>​ redirect*uri *令牌颁发后的回调地址_</p>
<ol start="4">
<li><strong>B 网站收到请求以后，就会颁发令牌。具体做法是向<code>redirect_uri</code>指定的网址，发送一段 JSON 数据。</strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;access_token&quot;</span>:<span class="string">&quot;ACCESS_TOKEN&quot;</span>,</span><br><span class="line">  <span class="string">&quot;token_type&quot;</span>:<span class="string">&quot;bearer&quot;</span>,</span><br><span class="line">  <span class="string">&quot;expires_in&quot;</span>:<span class="number">2592000</span>,</span><br><span class="line">  <span class="string">&quot;refresh_token&quot;</span>:<span class="string">&quot;REFRESH_TOKEN&quot;</span>,</span><br><span class="line">  <span class="string">&quot;scope&quot;</span>:<span class="string">&quot;read&quot;</span>,</span><br><span class="line">  <span class="string">&quot;uid&quot;</span>:<span class="number">100101</span>,</span><br><span class="line">  <span class="string">&quot;info&quot;</span>:&#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="隐藏式"><a href="#隐藏式" class="headerlink" title="隐藏式"></a>隐藏式</h2><blockquote>
<p>适用于纯前端的 WEB 应用，必须将令牌储存在前端。允许直接向前端颁发令牌。这种方式没有授权码这个中间步骤，所以称为（授权码）”隐藏式”（implicit）。<strong>由于前端直接获取 token，安全性较低，一般适用于比较信任的网站，并且令牌的有效期，也相对较短，一般是界面关闭及失效</strong></p>
</blockquote>
<h3 id="实现流程-1"><a href="#实现流程-1" class="headerlink" title="实现流程"></a>实现流程</h3><ol>
<li><p><strong>A 网站提供一个链接，要求用户跳转到 B 网站，授权用户数据给 A 网站使用</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://b.com/oauth/authorize? response_type=token&amp; client_id=CLIENT_ID&amp;</span><br><span class="line">redirect_uri=CALLBACK_URL&amp; scope=read</span><br></pre></td></tr></table></figure>

<blockquote>
<p>response_type&#x3D;token 表示直接返回令牌</p>
</blockquote>
</li>
<li><p><strong>用户跳转到 B 网站，登录后同意给予 A 网站授权。B 网站就会跳回<code>redirect_uri</code>参数指定的跳转网址，并且把令牌作为 URL 参数，传给 A 网站。</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="comment">//a.com/callback#token=ACCESS_TOKEN</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>token 参数为令牌，<strong>令牌的位置是 URL 锚点（fragment），而不是查询字符串（querystring），这是因为 OAuth 2.0 允许跳转网址是 HTTP 协议，因此存在”中间人攻击”的风险，而浏览器跳转时，锚点不会发到服务器，就减少了泄漏令牌的风险。</strong></p>
</blockquote>
</li>
</ol>
<hr>
<h2 id="密码式"><a href="#密码式" class="headerlink" title="密码式"></a>密码式</h2><blockquote>
<p>如果你高度信任某个应用，RFC 6749 也允许用户把用户名和密码，直接告诉该应用。该应用就使用你的密码，申请令牌，这种方式称为”密码式”（password）。</p>
</blockquote>
<h3 id="实现流程-2"><a href="#实现流程-2" class="headerlink" title="实现流程"></a>实现流程</h3><ol>
<li><p>第一步，A 网站要求用户提供 B 网站的用户名和密码。拿到以后，A 就直接向 B 请求令牌。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="comment">//oauth.b.com/token?</span></span><br><span class="line">  grant_type=password&amp;</span><br><span class="line">  username=<span class="variable constant_">USERNAME</span>&amp;</span><br><span class="line">  password=<span class="variable constant_">PASSWORD</span>&amp;</span><br><span class="line">  client_id=<span class="variable constant_">CLIENT_ID</span></span><br></pre></td></tr></table></figure>

<ul>
<li>grant*type &#x3D; password *授权方式为密码的形式进行授权_</li>
<li>username &amp;&amp; userpassword <em>B 网站的登录用户名及密码</em></li>
<li>client*id *用户申请令牌的身份标识_</li>
</ul>
</li>
<li><p>B 网站验证身份通过后，直接给出令牌。注意，这时不需要跳转，而是把令牌放在 JSON 数据里面，作为 HTTP 回应，A 因此拿到令牌。</p>
<blockquote>
<p>这种方式需要用户给出自己的用户名&#x2F;密码，显然风险很大，因此只适用于其他授权方式都无法采用的情况，而且必须是用户高度信任的应</p>
</blockquote>
</li>
</ol>
<hr>
<h2 id="凭证式"><a href="#凭证式" class="headerlink" title="凭证式"></a>凭证式</h2><blockquote>
<p>凭证式和密码式很相似，主要适用于那些没有前端的命令行应用，可以用最简单的方式获取令牌，在请求响应的 <code>JSON</code> 结果中返回 <code>token</code>。</p>
</blockquote>
<h3 id="实现流程-3"><a href="#实现流程-3" class="headerlink" title="实现流程"></a>实现流程</h3><ol>
<li><strong>第一步，A 应用在命令行向 B 发出请求。</strong></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://oauth.b.com/token? grant_type=client_credentials&amp; client_id=CLIENT_ID&amp;</span><br><span class="line">client_secret=CLIENT_SECRET</span><br></pre></td></tr></table></figure>

<p>​ <code>grant_type</code> 为 <code>client_credentials</code> 表示凭证式授权，<code>client_id</code> 和 <code>client_secret</code> 用来识别身份。</p>
<ol start="2">
<li>B 网站验证通过以后，直接返回令牌。</li>
</ol>
<h2 id="令牌的使用-更新"><a href="#令牌的使用-更新" class="headerlink" title="令牌的使用&#x2F;更新"></a>令牌的使用&#x2F;更新</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><blockquote>
<p>A 网站拿到令牌以后，就可以向 B 网站的 API 请求数据了。使用方法为在请求头中将 <code>token</code> 放在 <code>http</code> 请求头部的一个<code>Authorization</code>字段里。</p>
</blockquote>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><blockquote>
<p><code>token</code>是有时效性的，一旦过期就需要重新获取，令牌的有效期到了，如果让用户重新走一遍上面的流程，再申请一个新的令牌，很可能体验不好，而且也没有必要。OAuth 2.0 允许用户自动更新令牌</p>
</blockquote>
<h3 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h3><blockquote>
<p>具体方法是，B 网站颁发令牌的时候，一次性颁发两个令牌，一个用于获取数据，另一个用于获取新的令牌（refresh token 字段）。令牌到期前，用户使用 refresh token 发一个请求，去更新令牌。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="comment">//b.com/oauth/token?</span></span><br><span class="line">  grant_type=refresh_token&amp;</span><br><span class="line">  client_id=<span class="variable constant_">CLIENT_ID</span>&amp;</span><br><span class="line">  client_secret=<span class="variable constant_">CLIENT_SECRET</span>&amp;</span><br><span class="line">  refresh_token=<span class="variable constant_">REFRESH_TOKEN</span></span><br></pre></td></tr></table></figure>

<p><code>grant_type</code>参数为<code>refresh_token</code>表示要求更新令牌；</p>
<p><code>client_id</code>参数和<code>client_secret</code>参数用于确认身份；</p>
<p><code>refresh_token</code>参数就是用于更新令牌的令牌。</p>
<p>B 网站验证通过以后，就会颁发新的令牌</p>
<h2 id="授权码实现-github-授权"><a href="#授权码实现-github-授权" class="headerlink" title="授权码实现 github 授权"></a>授权码实现 github 授权</h2><p><img src="/../images/oauth2_01.png"></p>
<p><img src="/../images/oauth2_02.png"></p>
<p><img src="/../images/oauth2_03.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">const Koa = require(&quot;koa&quot;);</span><br><span class="line">const router = require(&quot;koa-router&quot;)();</span><br><span class="line">const staticFiles = require(&#x27;koa-static&#x27;)</span><br><span class="line">const path = require(&#x27;path&#x27;)</span><br><span class="line">const views = require(&#x27;koa-views&#x27;)</span><br><span class="line">const axios = require(&#x27;axios&#x27;)</span><br><span class="line">const qs = require(&#x27;qs&#x27;)</span><br><span class="line">const app = new Koa();</span><br><span class="line"></span><br><span class="line">let userInfo = &#123;&#125;</span><br><span class="line"></span><br><span class="line">app.use(staticFiles(path.resolve(__dirname, &quot;./public&quot;)))</span><br><span class="line">app.use(views(&#x27;views&#x27;, &#123; map: &#123; html: &#x27;ejs&#x27; &#125; &#125;))</span><br><span class="line"></span><br><span class="line">/* 模板路由处理 */</span><br><span class="line">router.get(&#x27;/login&#x27;, async ctx =&gt; &#123;</span><br><span class="line">  await ctx.render(&#x27;login&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line">router.get(&#x27;/home&#x27;, async ctx =&gt; &#123;</span><br><span class="line">  await ctx.render(&#x27;home&#x27;, &#123; userInfo &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/* 拦截前端的a链接跳转 */</span><br><span class="line">router.get(&#x27;/loginByGithub&#x27;, async ctx =&gt; &#123;</span><br><span class="line">  /* 跳转到git获取授权码的地址  携带了client_id参数*/</span><br><span class="line">  const path = &#x27;https://github.com/login/oauth/authorize?client_id=xxx&#x27;</span><br><span class="line">  ctx.redirect(path)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/* 创建一个授权码的地址路由 */</span><br><span class="line">router.get(&#x27;/callback/github&#x27;, async ctx =&gt; &#123;</span><br><span class="line">  const &#123; code &#125; = ctx.query</span><br><span class="line">  /* 请求令牌 post  params参数 */</span><br><span class="line">  const accessToken = await axios.post(&#x27;https://github.com/login/oauth/access_token&#x27;, &#123;</span><br><span class="line">    client_id: &#x27;xxx&#x27;,</span><br><span class="line">    client_secret: &#x27;xxx&#x27;,</span><br><span class="line">    code</span><br><span class="line">  &#125;)</span><br><span class="line">  const &#123; access_token &#125; = qs.parse(accessToken.data)</span><br><span class="line">  /* 获取用户的信息 */</span><br><span class="line">  userInfo = await axios.get(&#x27;https://api.github.com/user&#x27;, &#123;</span><br><span class="line">    /* Bearer 后面记得跟一个空格 */</span><br><span class="line">    headers: &#123;</span><br><span class="line">      Authorization: &#x27;Bearer &#x27; + access_token</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  userInfo = userInfo.data</span><br><span class="line">  ctx.redirect(&#x27;/home&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(router.routes())</span><br><span class="line">app.listen(3000, () =&gt; &#123;</span><br><span class="line">  console.log(&#x27;server is running on port 3000&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/13/c%E8%AF%AD%E8%A8%80%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/13/c%E8%AF%AD%E8%A8%80%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">c语言链表操作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-13 16:04:41" itemprop="dateCreated datePublished" datetime="2024-12-13T16:04:41+08:00">2024-12-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">// 定义链表节点结构体</span><br><span class="line">typedef struct Node &#123;</span><br><span class="line">    int data;</span><br><span class="line">    struct Node* next;</span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line">// 定义链表头结构体</span><br><span class="line">typedef struct LinkedList &#123;</span><br><span class="line">    Node* head;</span><br><span class="line">&#125; LinkedList;</span><br><span class="line"></span><br><span class="line">// 创建一个空链表</span><br><span class="line">LinkedList* createLinkedList() &#123;</span><br><span class="line">    LinkedList* list = (LinkedList*)malloc(sizeof(LinkedList));</span><br><span class="line">    if (list == NULL) &#123;</span><br><span class="line">        fprintf(stderr, &quot;Memory allocation failed\n&quot;);</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    list-&gt;head = NULL;</span><br><span class="line">    return list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 在链表头部插入节点</span><br><span class="line">void insertAtHead(LinkedList* list, int data) &#123;</span><br><span class="line">    Node* newNode = (Node*)malloc(sizeof(Node));</span><br><span class="line">    if (newNode == NULL) &#123;</span><br><span class="line">        fprintf(stderr, &quot;Memory allocation failed\n&quot;);</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    newNode-&gt;data = data;</span><br><span class="line">    newNode-&gt;next = list-&gt;head;</span><br><span class="line">    list-&gt;head = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 删除链表中的第一个节点</span><br><span class="line">void deleteFromHead(LinkedList* list) &#123;</span><br><span class="line">    if (list-&gt;head == NULL) &#123;</span><br><span class="line">        fprintf(stderr, &quot;List is empty\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    Node* temp = list-&gt;head;</span><br><span class="line">    list-&gt;head = list-&gt;head-&gt;next;</span><br><span class="line">    free(temp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 遍历链表并打印所有节点的数据</span><br><span class="line">void traverseLinkedList(LinkedList* list) &#123;</span><br><span class="line">    Node* current = list-&gt;head;</span><br><span class="line">    while (current != NULL) &#123;</span><br><span class="line">        printf(&quot;%d -&gt; &quot;, current-&gt;data);</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;NULL\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 释放链表的所有内存</span><br><span class="line">void freeLinkedList(LinkedList* list) &#123;</span><br><span class="line">    Node* current = list-&gt;head;</span><br><span class="line">    Node* temp;</span><br><span class="line">    while (current != NULL) &#123;</span><br><span class="line">        temp = current;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">        free(temp);</span><br><span class="line">    &#125;</span><br><span class="line">    free(list);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    // 创建一个空链表</span><br><span class="line">    LinkedList* list = createLinkedList();</span><br><span class="line"></span><br><span class="line">    // 插入节点</span><br><span class="line">    insertAtHead(list, 10);</span><br><span class="line">    insertAtHead(list, 20);</span><br><span class="line">    insertAtHead(list, 30);</span><br><span class="line"></span><br><span class="line">    // 遍历链表</span><br><span class="line">    printf(&quot;Linked List after insertions:\n&quot;);</span><br><span class="line">    traverseLinkedList(list);</span><br><span class="line"></span><br><span class="line">    // 删除节点</span><br><span class="line">    deleteFromHead(list);</span><br><span class="line">    printf(&quot;Linked List after deleting from head:\n&quot;);</span><br><span class="line">    traverseLinkedList(list);</span><br><span class="line"></span><br><span class="line">    // 释放链表内存</span><br><span class="line">    freeLinkedList(list);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/13/c-plusplus-c-%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/13/c-plusplus-c-%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91/" class="post-title-link" itemprop="url">c_plusplus _ c 混合编译</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-13 16:02:04" itemprop="dateCreated datePublished" datetime="2024-12-13T16:02:04+08:00">2024-12-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/c/" itemprop="url" rel="index"><span itemprop="name">c</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/c/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91/" itemprop="url" rel="index"><span itemprop="name">混合编译</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>c++调用c</p>
<p>project&#x2F;<br>├── example.c<br>├── example.h<br>└── main.cpp</p>
<p>example.h</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#ifndef EXAMPLE_H</span><br><span class="line">#define EXAMPLE_H</span><br><span class="line"></span><br><span class="line">#ifdef __cplusplus</span><br><span class="line">extern &quot;C&quot; &#123;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">void c_function(int a, int b);</span><br><span class="line"></span><br><span class="line">#ifdef __cplusplus</span><br><span class="line">&#125;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">#endif // EXAMPLE_H</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>example.c</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;example.h&quot;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void c_function(int a, int b) &#123;</span><br><span class="line">    printf(&quot;C function called with %d and %d\n&quot;, a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>c++代码</p>
<p>main.cpp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;example.h&quot;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void c_function(int a, int b) &#123;</span><br><span class="line">    printf(&quot;C function called with %d and %d\n&quot;, a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>编译命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> g++ -o minxed_example main.cpp example.c </span><br><span class="line"> ./minxed_example</span><br><span class="line">  </span><br><span class="line"> 输出结果：</span><br><span class="line">Calling C function from C++</span><br><span class="line">C function called with 10 and 20</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>C调用C++</p>
<p>.<br>├── cpp_interface.cpp<br>└── main.c</p>
<p>cpp_interface.cpp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// cpp_interface.cpp</span><br><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">// 声明一个C++类</span><br><span class="line">class MyClass &#123;</span><br><span class="line">public:</span><br><span class="line">    void printMessage() &#123;</span><br><span class="line">        std::cout &lt;&lt; &quot;Hello from C++!&quot; &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 使用 extern &quot;C&quot; 来防止名称修饰</span><br><span class="line">extern &quot;C&quot; &#123;</span><br><span class="line">    // 创建对象</span><br><span class="line">    void* create_my_class() &#123;</span><br><span class="line">        return new MyClass();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 调用成员函数</span><br><span class="line">    void call_print_message(void* obj) &#123;</span><br><span class="line">        static_cast&lt;MyClass*&gt;(obj)-&gt;printMessage();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 销毁对象</span><br><span class="line">    void destroy_my_class(void* obj) &#123;</span><br><span class="line">        delete static_cast&lt;MyClass*&gt;(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>main.c</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// main.c</span><br><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">// 声明C++接口函数</span><br><span class="line">void* create_my_class();</span><br><span class="line">void call_print_message(void* obj);</span><br><span class="line">void destroy_my_class(void* obj);</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    // 创建C++对象</span><br><span class="line">    void* my_obj = create_my_class();</span><br><span class="line"></span><br><span class="line">    // 调用C++对象的方法</span><br><span class="line">    call_print_message(my_obj);</span><br><span class="line"></span><br><span class="line">    // 销毁C++对象</span><br><span class="line">    destroy_my_class(my_obj);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>编译命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">g++ -c cpp_interface.cpp -o cpp_interface.o</span><br><span class="line">gcc main.c cpp_interface.o -lstdc++ -o main</span><br><span class="line">./main</span><br><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line">Hello from C++!</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/13/c-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-vscode-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wangzhiwei">
      <meta itemprop="description" content="javascript nodejs web developer...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/12/13/c-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-vscode-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">c++基础入门 + vscode 环境搭建</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-13 15:58:24" itemprop="dateCreated datePublished" datetime="2024-12-13T15:58:24+08:00">2024-12-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-18 11:10:52" itemprop="dateModified" datetime="2025-03-18T11:10:52+08:00">2025-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/vscode/" itemprop="url" rel="index"><span itemprop="name">vscode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>vscode 环境调试</p>
<p><img src="/../images/c_001.png"></p>
<p><img src="/../images/c_002.png"></p>
<p>tasks.json</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;tasks&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;type&quot;: &quot;cppbuild&quot;,</span><br><span class="line">            &quot;label&quot;: &quot;C/C++: gcc 生成活动文件&quot;,</span><br><span class="line">            &quot;command&quot;: &quot;/usr/bin/g++&quot;,</span><br><span class="line">            &quot;args&quot;: [</span><br><span class="line">                &quot;-fdiagnostics-color=always&quot;,</span><br><span class="line">                &quot;-g&quot;,</span><br><span class="line">                &quot;$&#123;file&#125;&quot;,</span><br><span class="line">                &quot;-o&quot;,</span><br><span class="line">                &quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;,</span><br><span class="line">                &quot;&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;options&quot;: &#123;</span><br><span class="line">                &quot;cwd&quot;: &quot;$&#123;fileDirname&#125;&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;problemMatcher&quot;: [</span><br><span class="line">                &quot;$gcc&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;group&quot;: &#123;</span><br><span class="line">                &quot;kind&quot;: &quot;build&quot;,</span><br><span class="line">                &quot;isDefault&quot;: true</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;detail&quot;: &quot;调试器生成的任务。&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;version&quot;: &quot;2.0.0&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>settings.json</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;C_Cpp_Runner.cCompilerPath&quot;: &quot;gcc&quot;,</span><br><span class="line">  &quot;C_Cpp_Runner.cppCompilerPath&quot;: &quot;g++&quot;,</span><br><span class="line">  &quot;C_Cpp_Runner.debuggerPath&quot;: &quot;gdb&quot;,</span><br><span class="line">  &quot;C_Cpp_Runner.cStandard&quot;: &quot;&quot;,</span><br><span class="line">  &quot;C_Cpp_Runner.cppStandard&quot;: &quot;&quot;,</span><br><span class="line">  &quot;C_Cpp_Runner.msvcBatchPath&quot;: &quot;&quot;,</span><br><span class="line">  &quot;C_Cpp_Runner.useMsvc&quot;: false,</span><br><span class="line">  &quot;C_Cpp_Runner.warnings&quot;: [</span><br><span class="line">    &quot;-Wall&quot;,</span><br><span class="line">    &quot;-Wextra&quot;,</span><br><span class="line">    &quot;-Wpedantic&quot;,</span><br><span class="line">    &quot;-Wshadow&quot;,</span><br><span class="line">    &quot;-Wformat=2&quot;,</span><br><span class="line">    &quot;-Wcast-align&quot;,</span><br><span class="line">    &quot;-Wconversion&quot;,</span><br><span class="line">    &quot;-Wsign-conversion&quot;,</span><br><span class="line">    &quot;-Wnull-dereference&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;C_Cpp_Runner.msvcWarnings&quot;: [</span><br><span class="line">    &quot;/W4&quot;,</span><br><span class="line">    &quot;/permissive-&quot;,</span><br><span class="line">    &quot;/w14242&quot;,</span><br><span class="line">    &quot;/w14287&quot;,</span><br><span class="line">    &quot;/w14296&quot;,</span><br><span class="line">    &quot;/w14311&quot;,</span><br><span class="line">    &quot;/w14826&quot;,</span><br><span class="line">    &quot;/w44062&quot;,</span><br><span class="line">    &quot;/w44242&quot;,</span><br><span class="line">    &quot;/w14905&quot;,</span><br><span class="line">    &quot;/w14906&quot;,</span><br><span class="line">    &quot;/w14263&quot;,</span><br><span class="line">    &quot;/w44265&quot;,</span><br><span class="line">    &quot;/w14928&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;C_Cpp_Runner.enableWarnings&quot;: true,</span><br><span class="line">  &quot;C_Cpp_Runner.warningsAsError&quot;: false,</span><br><span class="line">  &quot;C_Cpp_Runner.compilerArgs&quot;: [],</span><br><span class="line">  &quot;C_Cpp_Runner.linkerArgs&quot;: [],</span><br><span class="line">  &quot;C_Cpp_Runner.includePaths&quot;: [],</span><br><span class="line">  &quot;C_Cpp_Runner.includeSearch&quot;: [</span><br><span class="line">    &quot;*&quot;,</span><br><span class="line">    &quot;**/*&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;C_Cpp_Runner.excludeSearch&quot;: [</span><br><span class="line">    &quot;**/build&quot;,</span><br><span class="line">    &quot;**/build/**&quot;,</span><br><span class="line">    &quot;**/.*&quot;,</span><br><span class="line">    &quot;**/.*/**&quot;,</span><br><span class="line">    &quot;**/.vscode&quot;,</span><br><span class="line">    &quot;**/.vscode/**&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;C_Cpp_Runner.useAddressSanitizer&quot;: false,</span><br><span class="line">  &quot;C_Cpp_Runner.useUndefinedSanitizer&quot;: false,</span><br><span class="line">  &quot;C_Cpp_Runner.useLeakSanitizer&quot;: false,</span><br><span class="line">  &quot;C_Cpp_Runner.showCompilationTime&quot;: false,</span><br><span class="line">  &quot;C_Cpp_Runner.useLinkTimeOptimization&quot;: false,</span><br><span class="line">  &quot;C_Cpp_Runner.msvcSecureNoWarnings&quot;: false,</span><br><span class="line">  &quot;files.associations&quot;: &#123;</span><br><span class="line">    &quot;array&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;atomic&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;bit&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;*.tcc&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cctype&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;clocale&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cmath&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cstdarg&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cstddef&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cstdint&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cstdio&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cstdlib&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cwchar&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;cwctype&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;deque&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;unordered_map&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;vector&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;exception&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;algorithm&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;functional&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;iterator&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;memory&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;memory_resource&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;numeric&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;optional&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;random&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;string&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;string_view&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;system_error&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;tuple&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;type_traits&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;utility&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;fstream&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;initializer_list&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;iosfwd&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;iostream&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;istream&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;limits&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;new&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;ostream&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;sstream&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;stdexcept&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;streambuf&quot;: &quot;cpp&quot;,</span><br><span class="line">    &quot;typeinfo&quot;: &quot;cpp&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>launch.json</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">  &quot;configurations&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;name&quot;: &quot;C/C++ Runner: Debug Session&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">      &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">      &quot;args&quot;: [],</span><br><span class="line">      &quot;stopAtEntry&quot;: false,</span><br><span class="line">      &quot;externalConsole&quot;: false,</span><br><span class="line">      &quot;cwd&quot;: &quot;/home/dc/wzw/study/c-pluse-study&quot;,</span><br><span class="line">      &quot;program&quot;: &quot;/home/dc/wzw/study/c-pluse-study/build/Debug/outDebug&quot;,</span><br><span class="line">      &quot;MIMode&quot;: &quot;gdb&quot;,</span><br><span class="line">      &quot;miDebuggerPath&quot;: &quot;gdb&quot;,</span><br><span class="line">      &quot;setupCommands&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,</span><br><span class="line">          &quot;text&quot;: &quot;-enable-pretty-printing&quot;,</span><br><span class="line">          &quot;ignoreFailures&quot;: true</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>c_cpp_properties.json</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;configurations&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;name&quot;: &quot;linux-gcc-x64&quot;,</span><br><span class="line">      &quot;includePath&quot;: [</span><br><span class="line">        &quot;$&#123;workspaceFolder&#125;/**&quot;</span><br><span class="line">      ],</span><br><span class="line">      &quot;compilerPath&quot;: &quot;/usr/bin/gcc&quot;,</span><br><span class="line">      &quot;cStandard&quot;: &quot;$&#123;default&#125;&quot;,</span><br><span class="line">      &quot;cppStandard&quot;: &quot;$&#123;default&#125;&quot;,</span><br><span class="line">      &quot;intelliSenseMode&quot;: &quot;linux-gcc-x64&quot;,</span><br><span class="line">      &quot;compilerArgs&quot;: [</span><br><span class="line">        &quot;&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;version&quot;: 4</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>调试环境<br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Bc411S7ch?spm_id_from=333.788.videopod.episodes&vd_source=ffda878df0ed45bee1ade91d8f451048&p=2">https://www.bilibili.com/video/BV1Bc411S7ch?spm_id_from=333.788.videopod.episodes&amp;vd_source=ffda878df0ed45bee1ade91d8f451048&amp;p=2</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV15Y411j7JW/?spm_id_from=333.337.search-card.all.click&vd_source=ffda878df0ed45bee1ade91d8f451048">https://www.bilibili.com/video/BV15Y411j7JW/?spm_id_from=333.337.search-card.all.click&amp;vd_source=ffda878df0ed45bee1ade91d8f451048</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">wangzhiwei</p>
  <div class="site-description" itemprop="description">javascript nodejs web developer...</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">88</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">56</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">62</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wangzhiwei</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
